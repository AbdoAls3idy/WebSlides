!function(e){function t(i){if(n[i])return n[i].exports;var s=n[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/static/js/",t(t.s=17)}([function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=n(14),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){i(this,e)}return r(e,null,[{key:"createNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=document.createElement(e);return i.id=t,n&&(i.textContent=n),i}},{key:"hide",value:function(e){e.style.display="none"}},{key:"show",value:function(e){e.style.display=""}},{key:"fireEvent",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=new s.a(t,{detail:n});e.dispatchEvent(i)}},{key:"toArray",value:function(e){return[].slice.call(e)}}]),e}();t.a=o},function(e,t,n){"use strict";var i={ENTER:13,SPACE:32,RE_PAGE:33,AV_PAGE:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40};t.a=i},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=window.navigator.userAgent,o=function(){function e(){i(this,e)}return s(e,null,[{key:"isAndroid",value:function(){return!!r.match(/Android/i)}},{key:"isBlackBerry",value:function(){return!!r.match(/BlackBerry/i)}},{key:"isiOS",value:function(){return!!r.match(/iPhone/i)}},{key:"isOpera",value:function(){return!!r.match(/Opera Mini/i)}},{key:"isWindows",value:function(){return!!r.match(/IEMobile/i)}},{key:"isWindowsPhone",value:function(){return!!r.match(/Windows Phone/i)}},{key:"isAny",value:function(){return e.isAndroid()||e.isBlackBerry()||e.isiOS()||e.isOpera()||e.isWindows()||e.isWindowsPhone()}}]),e}();t.a=o},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=n(11),r=n(5),o=n(0),a=n(16),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u={VERTICAL:"vertical"},c={clickNav:s.a.ClickNav,grid:s.a.Grid,hash:s.a.Hash,keyboard:s.a.Keyboard,nav:s.a.Navigation,scroll:s.a.Scroll,touch:s.a.Touch},d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.autoslide,s=void 0!==n&&n,r=t.changeOnClick,o=void 0!==r&&r,a=t.minWheelDelta,l=void 0===a?40:a,c=t.scrollWait,d=void 0===c?450:c,h=t.slideOffset,f=void 0===h?50:h;if(i(this,e),this.el=document.getElementById("webslides"),this.isMoving=!1,this.slides=null,this.currentSlideI_=-1,this.currentSlide_=null,this.maxSlide_=0,this.isVertical=this.el.classList.contains(u.VERTICAL),this.plugins={},this.interval_=null,this.options={autoslide:s,changeOnClick:o,minWheelDelta:l,scrollWait:d,slideOffset:f},!this.el)throw new Error("Couldn't find the webslides container!");this.removeChildren_(),this.grabSlides_(),this.createPlugins_(),this.initSlides_(),this.play(),this.onInit_()}return l(e,[{key:"removeChildren_",value:function(){for(var e=this.el.childNodes,t=e.length;t--;){var n=e[t];r.a.isCandidate(n)||this.el.removeChild(n)}}},{key:"createPlugins_",value:function(){var e=this;Object.keys(c).forEach(function(t){var n=c[t];e.plugins[t]=new n(e)})}},{key:"onInit_",value:function(){o.a.fireEvent(this.el,"ws:init")}},{key:"grabSlides_",value:function(){this.slides=o.a.toArray(this.el.childNodes).map(function(e,t){return new r.a(e,t)}),this.maxSlide_=this.slides.length}},{key:"goToSlide",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.isValidIndexSlide_(e)&&!this.isMoving&&this.currentSlideI_!==e){this.isMoving=!0;var n=!1;null!==t?n=t:this.currentSlideI_>=0&&(n=e>this.currentSlideI_);var i=this.slides[e];null===this.currentSlide_||!this.isVertical||this.plugins.touch&&this.plugins.touch.isEnabled?this.transitionToSlide_(n,i,this.onSlideChange_):this.scrollTransitionToSlide_(n,i,this.onSlideChange_)}}},{key:"scrollTransitionToSlide_",value:function(e,t,i){var s=this;this.el.style.overflow="none",e?t.show():(t.moveBeforeFirst(),t.show(),n.i(a.a)(this.currentSlide_.el.offsetTop,0)),n.i(a.a)(t.el.offsetTop,500,function(){s.currentSlide_.hide(),e&&s.currentSlide_.moveAfterLast(),s.el.style.overflow="auto",setTimeout(function(){i.call(s,t)},150)})}},{key:"transitionToSlide_",value:function(e,t,i){n.i(a.a)(0,0),e||t.moveBeforeFirst(),this.currentSlide_&&(e&&this.currentSlide_.moveAfterLast(),this.currentSlide_.hide()),t.show(),i.call(this,t)}},{key:"onSlideChange_",value:function(e){this.currentSlide_=e,this.currentSlideI_=e.i,this.isMoving=!1,o.a.fireEvent(this.el,"ws:slide-change",{slides:this.maxSlide_,currentSlide0:this.currentSlideI_,currentSlide:this.currentSlideI_+1})}},{key:"goNext",value:function(){var e=this.currentSlideI_+1;e>=this.maxSlide_&&(e=0),this.goToSlide(e,!0)}},{key:"goPrev",value:function(){var e=this.currentSlideI_-1;e<0&&(e=this.maxSlide_-1),this.goToSlide(e,!1)}},{key:"isValidIndexSlide_",value:function(e){return e>=0&&e<this.maxSlide_}},{key:"initSlides_",value:function(){var e=this.plugins.hash.constructor.getSlideNumber();if((null===e||e>=this.maxSlide_)&&(e=0),0!==e)for(var t=0;t<e;)this.slides[t].moveAfterLast(),t++;this.goToSlide(e)}},{key:"play",value:function(e){e=e||this.options.autoslide,!this.interval_&&"number"==typeof e&&e>0&&(this.interval_=setInterval(this.goNext.bind(this),e))}},{key:"stop",value:function(){this.interval_&&(clearInterval(this.interval_),this.interval_=null)}}],[{key:"registerPlugin",value:function(e,t){c[e]=t}}]),e}();t.a=d},function(e,t){throw new Error("Module build failed: ModuleBuildError: Module build failed: No input specified: provide a file name or a source string to process\n    at C:\\Projects\\Github\\webslides\\node_modules\\webpack\\lib\\NormalModule.js:141:35\n    at C:\\Projects\\Github\\webslides\\node_modules\\loader-runner\\lib\\LoaderRunner.js:364:11\n    at C:\\Projects\\Github\\webslides\\node_modules\\loader-runner\\lib\\LoaderRunner.js:230:18\n    at context.callback (C:\\Projects\\Github\\webslides\\node_modules\\loader-runner\\lib\\LoaderRunner.js:111:13)\n    at Object.asyncSassJobQueue.push [as callback] (C:\\Projects\\Github\\webslides\\node_modules\\sass-loader\\lib\\loader.js:51:13)\n    at C:\\Projects\\Github\\webslides\\node_modules\\async\\dist\\async.js:2237:31\n    at apply (C:\\Projects\\Github\\webslides\\node_modules\\async\\dist\\async.js:20:25)\n    at C:\\Projects\\Github\\webslides\\node_modules\\async\\dist\\async.js:56:12\n    at C:\\Projects\\Github\\webslides\\node_modules\\async\\dist\\async.js:843:16\n    at module.exports.render (C:\\Projects\\Github\\webslides\\node_modules\\node-sass\\lib\\index.js:375:5)\n    at C:\\Projects\\Github\\webslides\\node_modules\\async\\dist\\async.js:3894:5\n    at process (C:\\Projects\\Github\\webslides\\node_modules\\async\\dist\\async.js:2309:17)\n    at Immediate.<anonymous> (C:\\Projects\\Github\\webslides\\node_modules\\async\\dist\\async.js:2115:16)\n    at runCallback (timers.js:649:20)\n    at tryOnImmediate (timers.js:622:5)\n    at processImmediate [as _immediateCallback] (timers.js:594:5)")},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=n(0),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o={SLIDE:"slide",CURRENT:"current"},a=function(){function e(t,n){i(this,e),this.el=t,this.parent=t.parentNode,this.i=n,this.el.id="section-"+(n+1),this.el.classList.add(o.SLIDE),this.hide()}return r(e,[{key:"hide",value:function(){s.a.hide(this.el),this.el.classList.remove(o.CURRENT)}},{key:"show",value:function(){s.a.show(this.el),this.el.classList.add(o.CURRENT)}},{key:"moveAfterLast",value:function(){var e=this.parent.childNodes[this.parent.childElementCount-1];this.parent.insertBefore(this.el,e.nextSibling)}},{key:"moveBeforeFirst",value:function(){var e=this.parent.childNodes[0];this.parent.insertBefore(this.el,e)}}],[{key:"isCandidate",value:function(e){return 1===e.nodeType&&"SECTION"===e.tagName}}]),e}();t.a=a},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=["INPUT","SELECT","OPTION","BUTTON","A","TEXTAREA"],o=function(){function e(t){i(this,e),this.ws_=t,t.options.changeOnClick&&this.ws_.el.addEventListener("click",this.onClick_.bind(this))}return s(e,[{key:"onClick_",value:function(e){r.indexOf(e.target.tagName)<0&&void 0===e.target.dataset.preventNav&&this.ws_.goNext()}}]),e}();t.a=o},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=n(1),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t){i(this,e),this.ws_=t;var n="body.baseline {\n                  background: url(../images/baseline.png) left top .8rem/.8rem;\n                }",s=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",r.styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n)),s.appendChild(r),document.addEventListener("keydown",this.onKeyPress_.bind(this),!1)}return r(e,[{key:"onKeyPress_",value:function(e){e.which===s.a.ENTER&&document.body.toggleClass("baseline")}}]),e}();t.a=o},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r="#slide",o=/#slide=(\d+)/,a=function(){function e(t){i(this,e),this.ws_=t,t.el.addEventListener("ws:slide-change",e.onSlideChange_),window.addEventListener("hashchange",this.onHashChange_.bind(this),!1)}return s(e,[{key:"onHashChange_",value:function(){var t=e.getSlideNumber();null!==t&&this.ws_.goToSlide(t)}}],[{key:"onSlideChange_",value:function(t){e.setSlideNumber(t.detail.currentSlide)}},{key:"getSlideNumber",value:function(){var e=document.location.hash.match(o),t=0;return Array.isArray(e)&&(t=parseInt(e[1],10)),"number"!=typeof t||t<0||!Array.isArray(e)?t=null:t--,t}},{key:"setSlideNumber",value:function(t){e.getSlideNumber()!==t-1&&history.pushState({slideI:t-1},"Slide "+t,r+"="+t)}}]),e}();t.a=a},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=n(1),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t){i(this,e),this.ws_=t,document.addEventListener("keydown",this.onKeyPress_.bind(this),!1)}return r(e,[{key:"onKeyPress_",value:function(e){var t=void 0,n=void 0;if(document.activeElement){var i="inherit"!==document.activeElement.contentEditable;if(["INPUT","SELECT","OPTION","TEXTAREA"].indexOf(document.activeElement.tagName)>-1||i)return}switch(e.which){case s.a.AV_PAGE:case s.a.SPACE:t=this.ws_.goNext;break;case s.a.RE_PAGE:t=this.ws_.goPrev;break;case s.a.HOME:t=this.ws_.goToSlide,n=0;break;case s.a.END:t=this.ws_.goToSlide,n=this.ws_.maxSlide_-1;break;case s.a.DOWN:t=this.ws_.isVertical?this.ws_.goNext:null;break;case s.a.UP:t=this.ws_.isVertical?this.ws_.goPrev:null;break;case s.a.LEFT:t=this.ws_.isVertical?null:this.ws_.goPrev;break;case s.a.RIGHT:t=this.ws_.isVertical?null:this.ws_.goNext}t&&t.call(this.ws_,n)}}]),e}();t.a=o},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=n(0),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o={NAV:"navigation",NEXT:"next",PREV:"previous",COUNTER:"counter"},a={VERTICAL:{NEXT:"↓",PREV:"↑"},HORIZONTAL:{NEXT:"→",PREV:"←"}},l=function(){function e(t){i(this,e);var n=t.isVertical?a.VERTICAL:a.HORIZONTAL;this.el=s.a.createNode("div","navigation"),this.next=e.createArrow(o.NEXT,n.NEXT),this.prev=e.createArrow(o.PREV,n.PREV),this.counter=s.a.createNode("span",o.COUNTER),this.ws_=t,this.el.appendChild(this.next),this.el.appendChild(this.prev),this.el.appendChild(this.counter),this.ws_.el.appendChild(this.el),this.bindEvents_()}return r(e,[{key:"bindEvents_",value:function(){this.ws_.el.addEventListener("ws:slide-change",this.onSlideChanged_.bind(this)),this.next.addEventListener("click",this.onButtonClicked_.bind(this)),this.prev.addEventListener("click",this.onButtonClicked_.bind(this))}},{key:"updateCounter",value:function(e,t){this.counter.textContent=e+" / "+t}},{key:"onSlideChanged_",value:function(e){this.updateCounter(e.detail.currentSlide,e.detail.slides)}},{key:"onButtonClicked_",value:function(e){e.preventDefault(),e.target===this.next?this.ws_.goNext():this.ws_.goPrev()}}],[{key:"createArrow",value:function(e,t){var n=s.a.createNode("a",e,t);return n.href="#",n.title="Arrow Keys",n}}]),e}();t.a=l},function(e,t,n){"use strict";var i=n(6),s=n(7),r=n(8),o=n(9),a=n(10),l=n(12),u=n(13);t.a={ClickNav:i.a,Grid:s.a,Hash:r.a,Keyboard:o.a,Navigation:a.a,Scroll:l.a,Touch:u.a}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=n(2),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t){i(this,e),this.ws_=t,this.scrollContainer_=t.el,this.isGoingUp_=!1,this.isGoingLeft_=!1,this.timeout_=null,s.a.isAny()||(this.scrollContainer_.addEventListener("wheel",this.onMouseWheel_.bind(this)),t.isVertical||t.el.addEventListener("ws:slide-change",this.onSlideChange_.bind(this)))}return r(e,[{key:"onSlideChange_",value:function(){var e=this;this.timeout_=setTimeout(function(){e.timeout_=null},this.ws_.options.scrollWait)}},{key:"onMouseWheel_",value:function(e){if(this.ws_.isMoving||this.timeout_)return void e.preventDefault();var t=e.deltaY,n=e.deltaX,i=this.ws_.isVertical,s=Math.abs(n)>Math.abs(t);if(this.isGoingUp_=t<0,this.isGoingLeft_=n<0,s){if(i)return;e.preventDefault()}(Math.abs(t)>=this.ws_.options.minWheelDelta||Math.abs(n)>=this.ws_.options.minWheelDelta)&&(s&&this.isGoingLeft_||!s&&this.isGoingUp_?this.ws_.goPrev():this.ws_.goNext(),e.preventDefault())}}]),e}();t.a=o},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=n(2),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o={touch:{START:"touchstart",MOVE:"touchmove",END:"touchend"},pointer:{START:"pointerdown",MOVE:"pointermove",END:"pointerup"}},a=function(){function e(t){i(this,e),this.ws_=t,this.startX_=0,this.startY_=0,this.endX_=0,this.endY_=0,this.isEnabled=!1;var n=void 0;s.a.isAny()&&(n=window.PointerEvent&&(s.a.isWindows()||s.a.isWindowsPhone())?o.pointer:o.touch,this.isEnabled=!0,document.addEventListener(n.START,this.onStart_.bind(this),!1),document.addEventListener(n.MOVE,this.onMove_.bind(this),!1),document.addEventListener(n.MOVE,this.onMove_.bind(this),!1),document.addEventListener(n.END,this.onStop_.bind(this),!1))}return r(e,[{key:"onStart_",value:function(t){var n=e.normalizeEventInfo(t);this.startX_=n.x,this.startY_=n.y,this.endX_=n.x,this.endY_=n.y}},{key:"onMove_",value:function(t){var n=e.normalizeEventInfo(t);this.endX_=n.x,this.endY_=n.y}},{key:"onStop_",value:function(){var e=this.startX_-this.endX_,t=this.startY_-this.endY_;Math.abs(e)>Math.abs(t)&&(e<-this.ws_.options.slideOffset?this.ws_.goPrev():e>this.ws_.options.slideOffset&&this.ws_.goNext())}}],[{key:"normalizeEventInfo",value:function(e){var t=void 0,n=void 0,i={pageX:0,pageY:0};return void 0!==e.changedTouches?i=e.changedTouches[0]:void 0!==e.originalEvent&&void 0!==e.originalEvent.changedTouches&&(i=e.originalEvent.changedTouches[0]),t=e.offsetX||e.layerX||i.pageX,n=e.offsetY||e.layerY||i.pageY,{x:t,y:n}}}]),e}();t.a=a},function(e,t,n){"use strict";function i(){try{var e=new s("t",{detail:{a:"b"}});return"t"===e.type&&"b"===e.detail.a}catch(e){}return!1}var s=window.CustomEvent,r=function(e,t){var n=document.createEvent("CustomEvent");return t?n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail):n.initCustomEvent(e,!1,!1,void 0),n},o=i()?s:r;t.a=o},function(e,t,n){"use strict";function i(e){return.5-Math.cos(e*Math.PI)/2}function s(e){return e}t.a={swing:i,linear:s}},function(e,t,n){"use strict";function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},i=e-r.scrollTop,o=r.scrollTop,a=16;if(!t)return r.scrollTop=e,void n();!function l(u){u+=a;var c=Math.min(1,u/t),d=s.a.swing(c,u*c,e,i,t);r.scrollTop=Math.floor(o+d*i),u<t?setTimeout(function(){return l(u)},a):n()}(0)}var s=n(15);t.a=i;var r=document.getElementById("webslides")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3);n(4),window.WebSlides=i.a}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2Vic2xpZGVzLm1pbi5qcyIsIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgOTE5MmQyMTJhZWFiODU4MWQ1NTUiLCJ3ZWJwYWNrOi8vLy4vanMvdXRpbHMvZG9tLmpzIiwid2VicGFjazovLy8uL2pzL3V0aWxzL2tleXMuanMiLCJ3ZWJwYWNrOi8vLy4vanMvdXRpbHMvbW9iaWxlLWRldGVjdG9yLmpzIiwid2VicGFjazovLy8uL2pzL21vZHVsZXMvd2Vic2xpZGVzLmpzIiwid2VicGFjazovLy8uL2pzL21vZHVsZXMvc2xpZGUuanMiLCJ3ZWJwYWNrOi8vLy4vanMvcGx1Z2lucy9jbGljay1uYXYuanMiLCJ3ZWJwYWNrOi8vLy4vanMvcGx1Z2lucy9ncmlkLmpzIiwid2VicGFjazovLy8uL2pzL3BsdWdpbnMvaGFzaC5qcyIsIndlYnBhY2s6Ly8vLi9qcy9wbHVnaW5zL2tleWJvYXJkLmpzIiwid2VicGFjazovLy8uL2pzL3BsdWdpbnMvbmF2aWdhdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9qcy9wbHVnaW5zL3BsdWdpbnMuanMiLCJ3ZWJwYWNrOi8vLy4vanMvcGx1Z2lucy9zY3JvbGwuanMiLCJ3ZWJwYWNrOi8vLy4vanMvcGx1Z2lucy90b3VjaC5qcyIsIndlYnBhY2s6Ly8vLi9qcy91dGlscy9jdXN0b20tZXZlbnQuanMiLCJ3ZWJwYWNrOi8vLy4vanMvdXRpbHMvZWFzaW5nLmpzIiwid2VicGFjazovLy8uL2pzL3V0aWxzL3Njcm9sbC10by5qcyIsIndlYnBhY2s6Ly8vLi9qcy9mdWxsLmpzIl0sIm5hbWVzIjpbIm1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpbnN0YWxsZWRNb2R1bGVzIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwiY2FsbCIsIm0iLCJjIiwidmFsdWUiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJnZXQiLCJuIiwiX19lc01vZHVsZSIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIl9fd2VicGFja19leHBvcnRzX18iLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiVHlwZUVycm9yIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19jdXN0b21fZXZlbnRfXyIsIl9jcmVhdGVDbGFzcyIsImRlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImxlbmd0aCIsImRlc2NyaXB0b3IiLCJ3cml0YWJsZSIsImtleSIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIkRPTSIsInRoaXMiLCJ0YWciLCJpZCIsImFyZ3VtZW50cyIsInVuZGVmaW5lZCIsInRleHQiLCJub2RlIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwidGV4dENvbnRlbnQiLCJlbCIsInN0eWxlIiwiZGlzcGxheSIsImV2ZW50VHlwZSIsImV2ZW50SW5mbyIsImV2ZW50IiwiZGV0YWlsIiwiZGlzcGF0Y2hFdmVudCIsIml0ZXJhYmxlIiwic2xpY2UiLCJLZXlzIiwiRU5URVIiLCJTUEFDRSIsIlJFX1BBR0UiLCJBVl9QQUdFIiwiRU5EIiwiSE9NRSIsIkxFRlQiLCJVUCIsIlJJR0hUIiwiRE9XTiIsIlVBIiwid2luZG93IiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiTW9iaWxlRGV0ZWN0b3IiLCJtYXRjaCIsImlzQW5kcm9pZCIsImlzQmxhY2tCZXJyeSIsImlzaU9TIiwiaXNPcGVyYSIsImlzV2luZG93cyIsImlzV2luZG93c1Bob25lIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19wbHVnaW5zX3BsdWdpbnNfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fc2xpZGVfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fdXRpbHNfZG9tX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX3V0aWxzX3Njcm9sbF90b19fIiwiQ0xBU1NFUyIsIlZFUlRJQ0FMIiwiUExVR0lOUyIsImNsaWNrTmF2IiwiQ2xpY2tOYXYiLCJncmlkIiwiR3JpZCIsImhhc2giLCJIYXNoIiwia2V5Ym9hcmQiLCJLZXlib2FyZCIsIm5hdiIsIk5hdmlnYXRpb24iLCJzY3JvbGwiLCJTY3JvbGwiLCJ0b3VjaCIsIlRvdWNoIiwiV2ViU2xpZGVzIiwiX3JlZiIsIl9yZWYkYXV0b3NsaWRlIiwiYXV0b3NsaWRlIiwiX3JlZiRjaGFuZ2VPbkNsaWNrIiwiY2hhbmdlT25DbGljayIsIl9yZWYkbWluV2hlZWxEZWx0YSIsIm1pbldoZWVsRGVsdGEiLCJfcmVmJHNjcm9sbFdhaXQiLCJzY3JvbGxXYWl0IiwiX3JlZiRzbGlkZU9mZnNldCIsInNsaWRlT2Zmc2V0IiwiZ2V0RWxlbWVudEJ5SWQiLCJpc01vdmluZyIsInNsaWRlcyIsImN1cnJlbnRTbGlkZUlfIiwiY3VycmVudFNsaWRlXyIsIm1heFNsaWRlXyIsImlzVmVydGljYWwiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsInBsdWdpbnMiLCJpbnRlcnZhbF8iLCJvcHRpb25zIiwiRXJyb3IiLCJyZW1vdmVDaGlsZHJlbl8iLCJncmFiU2xpZGVzXyIsImNyZWF0ZVBsdWdpbnNfIiwiaW5pdFNsaWRlc18iLCJwbGF5Iiwib25Jbml0XyIsIm5vZGVzIiwiY2hpbGROb2RlcyIsImlzQ2FuZGlkYXRlIiwicmVtb3ZlQ2hpbGQiLCJfdGhpcyIsImtleXMiLCJmb3JFYWNoIiwicGx1Z2luTmFtZSIsInBsdWdpbkN0byIsImZpcmVFdmVudCIsInRvQXJyYXkiLCJtYXAiLCJzbGlkZSIsInNsaWRlSSIsImZvcndhcmQiLCJpc1ZhbGlkSW5kZXhTbGlkZV8iLCJpc01vdmluZ0ZvcndhcmQiLCJuZXh0U2xpZGUiLCJpc0VuYWJsZWQiLCJ0cmFuc2l0aW9uVG9TbGlkZV8iLCJvblNsaWRlQ2hhbmdlXyIsInNjcm9sbFRyYW5zaXRpb25Ub1NsaWRlXyIsImNhbGxiYWNrIiwiX3RoaXMyIiwib3ZlcmZsb3ciLCJzaG93IiwibW92ZUJlZm9yZUZpcnN0Iiwib2Zmc2V0VG9wIiwiaGlkZSIsIm1vdmVBZnRlckxhc3QiLCJzZXRUaW1lb3V0IiwiY3VycmVudFNsaWRlMCIsImN1cnJlbnRTbGlkZSIsIm5leHRJbmRleCIsImdvVG9TbGlkZSIsInByZXZJbmRleCIsInNsaWRlTnVtYmVyIiwiY29uc3RydWN0b3IiLCJnZXRTbGlkZU51bWJlciIsInRpbWUiLCJzZXRJbnRlcnZhbCIsImdvTmV4dCIsImJpbmQiLCJjbGVhckludGVydmFsIiwiY3RvIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX191dGlsc19kb21fXyIsIlNMSURFIiwiQ1VSUkVOVCIsIlNsaWRlIiwicGFyZW50IiwicGFyZW50Tm9kZSIsImFkZCIsInJlbW92ZSIsImxhc3QiLCJjaGlsZEVsZW1lbnRDb3VudCIsImluc2VydEJlZm9yZSIsIm5leHRTaWJsaW5nIiwiZmlyc3QiLCJub2RlVHlwZSIsInRhZ05hbWUiLCJDTElDS0FCTEVfRUxTIiwid3NJbnN0YW5jZSIsIndzXyIsImFkZEV2ZW50TGlzdGVuZXIiLCJvbkNsaWNrXyIsImluZGV4T2YiLCJkYXRhc2V0IiwicHJldmVudE5hdiIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fdXRpbHNfa2V5c19fIiwiQ1NTIiwiaGVhZCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwidHlwZSIsInN0eWxlU2hlZXQiLCJjc3NUZXh0IiwiYXBwZW5kQ2hpbGQiLCJjcmVhdGVUZXh0Tm9kZSIsIm9uS2V5UHJlc3NfIiwid2hpY2giLCJib2R5IiwidG9nZ2xlQ2xhc3MiLCJIQVNIIiwic2xpZGVSZWdleCIsIm9uSGFzaENoYW5nZV8iLCJuZXdTbGlkZUluZGV4Iiwic2V0U2xpZGVOdW1iZXIiLCJyZXN1bHRzIiwibG9jYXRpb24iLCJBcnJheSIsImlzQXJyYXkiLCJwYXJzZUludCIsIm51bWJlciIsImhpc3RvcnkiLCJwdXNoU3RhdGUiLCJtZXRob2QiLCJhcmd1bWVudCIsImFjdGl2ZUVsZW1lbnQiLCJpc0NvbnRlbnRFZGl0YWJsZSIsImNvbnRlbnRFZGl0YWJsZSIsImdvUHJldiIsIkVMRU1FTlRfSUQiLCJOQVYiLCJORVhUIiwiUFJFViIsIkNPVU5URVIiLCJMQUJFTFMiLCJIT1JJWk9OVEFMIiwiYXJyb3dMYWJlbHMiLCJjcmVhdGVOb2RlIiwibmV4dCIsImNyZWF0ZUFycm93IiwicHJldiIsImNvdW50ZXIiLCJiaW5kRXZlbnRzXyIsIm9uU2xpZGVDaGFuZ2VkXyIsIm9uQnV0dG9uQ2xpY2tlZF8iLCJjdXJyZW50IiwibWF4IiwidXBkYXRlQ291bnRlciIsInByZXZlbnREZWZhdWx0IiwiYXJyb3ciLCJocmVmIiwidGl0bGUiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2NsaWNrX25hdl9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19ncmlkX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX2hhc2hfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fa2V5Ym9hcmRfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fbmF2aWdhdGlvbl9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19zY3JvbGxfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fdG91Y2hfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fdXRpbHNfbW9iaWxlX2RldGVjdG9yX18iLCJzY3JvbGxDb250YWluZXJfIiwiaXNHb2luZ1VwXyIsImlzR29pbmdMZWZ0XyIsInRpbWVvdXRfIiwiaXNBbnkiLCJvbk1vdXNlV2hlZWxfIiwid2hlZWxEZWx0YVkiLCJkZWx0YVkiLCJ3aGVlbERlbHRhWCIsImRlbHRhWCIsImlzSG9yaXpvbnRhbE1vdmVtZW50IiwiTWF0aCIsImFicyIsIkVWRU5UUyIsIlNUQVJUIiwiTU9WRSIsInBvaW50ZXIiLCJzdGFydFhfIiwic3RhcnRZXyIsImVuZFhfIiwiZW5kWV8iLCJldmVudHMiLCJQb2ludGVyRXZlbnQiLCJvblN0YXJ0XyIsIm9uTW92ZV8iLCJvblN0b3BfIiwiaW5mbyIsIm5vcm1hbGl6ZUV2ZW50SW5mbyIsIngiLCJ5IiwiZGlmZlgiLCJkaWZmWSIsInRvdWNoRXZlbnQiLCJwYWdlWCIsInBhZ2VZIiwiY2hhbmdlZFRvdWNoZXMiLCJvcmlnaW5hbEV2ZW50Iiwib2Zmc2V0WCIsImxheWVyWCIsIm9mZnNldFkiLCJsYXllclkiLCJjYW5JdXNlTmF0aXZlQ3VzdG9tIiwiTmF0aXZlQ3VzdG9tRXZlbnQiLCJhIiwiZSIsIkN1c3RvbUV2ZW50IiwiSUVDdXN0b21FdmVudCIsInBhcmFtcyIsImNyZWF0ZUV2ZW50IiwiaW5pdEN1c3RvbUV2ZW50IiwiYnViYmxlcyIsImNhbmNlbGFibGUiLCJXU0N1c3RvbUV2ZW50Iiwic3dpbmciLCJjb3MiLCJQSSIsImxpbmVhciIsInNjcm9sbFRvIiwiZHVyYXRpb24iLCJjYiIsImRlbHRhIiwiU0NST0xMQUJMRV9DT05UQUlORVIiLCJzY3JvbGxUb3AiLCJzdGFydExvY2F0aW9uIiwiaW5jcmVtZW50IiwiYW5pbWF0ZVNjcm9sbCIsImVsYXBzZWRUaW1lIiwicGVyY2VudCIsIm1pbiIsImVhc2luZ1AiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2Vhc2luZ19fIiwiZmxvb3IiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX21vZHVsZXNfd2Vic2xpZGVzX18iXSwibWFwcGluZ3MiOiJDQUFTLFNBQVVBLEdDSW5CLFFBQUFDLEdBQUFDLEdBR0EsR0FBQUMsRUFBQUQsR0FDQSxNQUFBQyxHQUFBRCxHQUFBRSxPQUdBLElBQUFDLEdBQUFGLEVBQUFELElBQ0FJLEVBQUFKLEVBQ0FLLEdBQUEsRUFDQUgsV0FVQSxPQU5BSixHQUFBRSxHQUFBTSxLQUFBSCxFQUFBRCxRQUFBQyxJQUFBRCxRQUFBSCxHQUdBSSxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBdkJBLEdBQUFELEtBNEJBRixHQUFBUSxFQUFB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KG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0aTogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsOiBmYWxzZSxcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9XG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBpZGVudGl0eSBmdW5jdGlvbiBmb3IgY2FsbGluZyBoYXJtb255IGltcG9ydHMgd2l0aCB0aGUgY29ycmVjdCBjb250ZXh0XG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uaSA9IGZ1bmN0aW9uKHZhbHVlKSB7IHJldHVybiB2YWx1ZTsgfTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbi8qKioqKiovIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4vKioqKioqLyBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuLyoqKioqKi8gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuLyoqKioqKi8gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuLyoqKioqKi8gXHRcdFx0XHRnZXQ6IGdldHRlclxuLyoqKioqKi8gXHRcdFx0fSk7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4vKioqKioqLyBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbi8qKioqKiovIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4vKioqKioqLyBcdFx0cmV0dXJuIGdldHRlcjtcbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi9zdGF0aWMvanMvXCI7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMTcpO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2N1c3RvbV9ldmVudF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNCk7XG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5cblxuLyoqXHJcbiAqIFN0YXRpYyBjbGFzcyBmb3IgRE9NIGhlbHBlci5cclxuICovXG5cbnZhciBET00gPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIERPTSgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRE9NKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhET00sIG51bGwsIFt7XG4gICAga2V5OiAnY3JlYXRlTm9kZScsXG5cbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYSBub2RlIHdpdGggb3B0aW9uYWwgcGFyYW1ldGVycy5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0YWcgVGhlIG5hbWUgb2YgdGhlIHRhZyBvZiB0aGUgbmVlZGVkIGVsZW1lbnQuXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIGRlc2lyZWQgaWQgZm9yIHRoZSBlbGVtZW50LiBJdCBkZWZhdWx0cyB0byBhblxyXG4gICAgICogZW1wdHkgc3RyaW5nLlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgVGhlIGRlc2lyZWQgdGV4dCB0byBnbyBpbnNpZGUgb2YgdGhlIGVsZW1lbnQuIEl0IGRlZmF1bHRzXHJcbiAgICAgKiB0byBhbiBlbXB0eSBzdHJpbmcuXHJcbiAgICAgKiBAcmV0dXJuIHtFbGVtZW50fVxyXG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZU5vZGUodGFnKSB7XG4gICAgICB2YXIgaWQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICcnO1xuICAgICAgdmFyIHRleHQgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6ICcnO1xuXG4gICAgICB2YXIgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKTtcbiAgICAgIG5vZGUuaWQgPSBpZDtcblxuICAgICAgaWYgKHRleHQpIHtcbiAgICAgICAgbm9kZS50ZXh0Q29udGVudCA9IHRleHQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBub2RlO1xuICAgIH1cblxuICAgIC8qKlxyXG4gICAgICogSGlkZXMgYW4gZWxlbWVudCBzZXR0aW5nIHRoZSBkaXNwbGF5IHRvIG5vbmUuXHJcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsIEVsZW1lbnQgdG8gYmUgaGlkZGVuLlxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2hpZGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoaWRlKGVsKSB7XG4gICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIH1cblxuICAgIC8qKlxyXG4gICAgICogU2hvd3MgYW4gZWxlbWVudCBieSByZW1vdmluZyB0aGUgZGlzcGxheSBwcm9wZXJ0eS4gVGhpcyBpcyBvbmx5IGludGVuZGVkXHJcbiAgICAgKiB0byBiZSB1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGggRE9NLmhpZGUuXHJcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsIEVsZW1lbnQgdG8gYmUgc2hvd24uXHJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnc2hvdycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNob3coZWwpIHtcbiAgICAgIGVsLnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICB9XG5cbiAgICAvKipcclxuICAgICAqIEZpcmVzIGEgY3VzdG9tIGV2ZW50IG9uIHRoZSBnaXZlbiB0YXJnZXQuXHJcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IHRhcmdldCBUaGUgdGFyZ2V0IG9mIHRoZSBldmVudC5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFR5cGUgVGhlIGV2ZW50IHR5cGUuXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnRJbmZvIE9wdGlvbmFsIHBhcmFtZXRlciB0byBwcm92aWRlIGFkZGl0aW9uYWwgZGF0YVxyXG4gICAgICogdG8gdGhlIGV2ZW50LlxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2ZpcmVFdmVudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZpcmVFdmVudCh0YXJnZXQsIGV2ZW50VHlwZSkge1xuICAgICAgdmFyIGV2ZW50SW5mbyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG5cbiAgICAgIHZhciBldmVudCA9IG5ldyBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2N1c3RvbV9ldmVudF9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKGV2ZW50VHlwZSwge1xuICAgICAgICBkZXRhaWw6IGV2ZW50SW5mb1xuICAgICAgfSk7XG5cbiAgICAgIHRhcmdldC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICB9XG5cbiAgICAvKipcclxuICAgICAqIENvbnZlcnRzIGFuIGl0ZXJhYmxlIHRvIGFuIGFycmF5LlxyXG4gICAgICogQHBhcmFtIHsqfSBpdGVyYWJsZSBFbGVtZW50IHRvIGNvbnZlcnQgdG8gYXJyYXlcclxuICAgICAqIEByZXR1cm4ge0FycmF5fSB0aGUgZWxlbWVudCBjYXN0ZWQgdG8gYW4gYXJyYXkuXHJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAndG9BcnJheScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRvQXJyYXkoaXRlcmFibGUpIHtcbiAgICAgIHJldHVybiBbXS5zbGljZS5jYWxsKGl0ZXJhYmxlKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gRE9NO1xufSgpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gRE9NO1xuXG4vKioqLyB9KSxcbi8qIDEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG52YXIgS2V5cyA9IHtcbiAgRU5URVI6IDEzLFxuICBTUEFDRTogMzIsXG4gIFJFX1BBR0U6IDMzLFxuICBBVl9QQUdFOiAzNCxcbiAgRU5EOiAzNSxcbiAgSE9NRTogMzYsXG4gIExFRlQ6IDM3LFxuICBVUDogMzgsXG4gIFJJR0hUOiAzOSxcbiAgRE9XTjogNDBcbn07XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSBLZXlzO1xuXG4vKioqLyB9KSxcbi8qIDIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgVUEgPSB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudDtcblxudmFyIE1vYmlsZURldGVjdG9yID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBNb2JpbGVEZXRlY3RvcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTW9iaWxlRGV0ZWN0b3IpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKE1vYmlsZURldGVjdG9yLCBudWxsLCBbe1xuICAgIGtleTogXCJpc0FuZHJvaWRcIixcblxuICAgIC8qKlxyXG4gICAgICogV2hldGhlciB0aGUgZGV2aWNlIGlzIEFuZHJvaWQgb3Igbm90LlxyXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cclxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiBpc0FuZHJvaWQoKSB7XG4gICAgICByZXR1cm4gISFVQS5tYXRjaCgvQW5kcm9pZC9pKTtcbiAgICB9XG5cbiAgICAvKipcclxuICAgICAqIFdoZXRoZXIgdGhlIGRldmljZSBpcyBCbGFja0JlcnJ5IG9yIG5vdC5cclxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImlzQmxhY2tCZXJyeVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc0JsYWNrQmVycnkoKSB7XG4gICAgICByZXR1cm4gISFVQS5tYXRjaCgvQmxhY2tCZXJyeS9pKTtcbiAgICB9XG5cbiAgICAvKipcclxuICAgICAqIFdoZXRoZXIgdGhlIGRldmljZSBpcyBpT1Mgb3Igbm90LlxyXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiaXNpT1NcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaXNpT1MoKSB7XG4gICAgICByZXR1cm4gISFVQS5tYXRjaCgvaVBob25lL2kpO1xuICAgIH1cblxuICAgIC8qKlxyXG4gICAgICogV2hldGhlciB0aGUgZGV2aWNlIGlzIE9wZXJhIG9yIG5vdC5cclxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImlzT3BlcmFcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaXNPcGVyYSgpIHtcbiAgICAgIHJldHVybiAhIVVBLm1hdGNoKC9PcGVyYSBNaW5pL2kpO1xuICAgIH1cblxuICAgIC8qKlxyXG4gICAgICogV2hldGhlciB0aGUgZGV2aWNlIGlzIFdpbmRvd3Mgb3Igbm90LlxyXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiaXNXaW5kb3dzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGlzV2luZG93cygpIHtcbiAgICAgIHJldHVybiAhIVVBLm1hdGNoKC9JRU1vYmlsZS9pKTtcbiAgICB9XG5cbiAgICAvKipcclxuICAgICAqIFdoZXRoZXIgdGhlIGRldmljZSBpcyBXaW5kb3dzIFBob25lIG9yIG5vdC5cclxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImlzV2luZG93c1Bob25lXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGlzV2luZG93c1Bob25lKCkge1xuICAgICAgcmV0dXJuICEhVUEubWF0Y2goL1dpbmRvd3MgUGhvbmUvaSk7XG4gICAgfVxuXG4gICAgLyoqXHJcbiAgICAgKiBXaGV0aGVyIHRoZSBkZXZpY2UgaXMgYW55IG1vYmlsZSBkZXZpY2Ugb3Igbm90LlxyXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiaXNBbnlcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaXNBbnkoKSB7XG4gICAgICByZXR1cm4gTW9iaWxlRGV0ZWN0b3IuaXNBbmRyb2lkKCkgfHwgTW9iaWxlRGV0ZWN0b3IuaXNCbGFja0JlcnJ5KCkgfHwgTW9iaWxlRGV0ZWN0b3IuaXNpT1MoKSB8fCBNb2JpbGVEZXRlY3Rvci5pc09wZXJhKCkgfHwgTW9iaWxlRGV0ZWN0b3IuaXNXaW5kb3dzKCkgfHwgTW9iaWxlRGV0ZWN0b3IuaXNXaW5kb3dzUGhvbmUoKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTW9iaWxlRGV0ZWN0b3I7XG59KCk7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSBNb2JpbGVEZXRlY3RvcjtcblxuLyoqKi8gfSksXG4vKiAzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fcGx1Z2luc19wbHVnaW5zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX3NsaWRlX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fdXRpbHNfZG9tX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fdXRpbHNfc2Nyb2xsX3RvX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE2KTtcbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cblxuXG5cblxuXG52YXIgQ0xBU1NFUyA9IHtcbiAgVkVSVElDQUw6ICd2ZXJ0aWNhbCdcbn07XG5cbi8vIERlZmF1bHQgcGx1Z2luc1xudmFyIFBMVUdJTlMgPSB7XG4gICdjbGlja05hdic6IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fcGx1Z2luc19wbHVnaW5zX19bXCJhXCIgLyogZGVmYXVsdCAqL10uQ2xpY2tOYXYsXG4gICdncmlkJzogX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19wbHVnaW5zX3BsdWdpbnNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5HcmlkLFxuICAnaGFzaCc6IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fcGx1Z2luc19wbHVnaW5zX19bXCJhXCIgLyogZGVmYXVsdCAqL10uSGFzaCxcbiAgJ2tleWJvYXJkJzogX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19wbHVnaW5zX3BsdWdpbnNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5LZXlib2FyZCxcbiAgJ25hdic6IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fcGx1Z2luc19wbHVnaW5zX19bXCJhXCIgLyogZGVmYXVsdCAqL10uTmF2aWdhdGlvbixcbiAgJ3Njcm9sbCc6IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fcGx1Z2luc19wbHVnaW5zX19bXCJhXCIgLyogZGVmYXVsdCAqL10uU2Nyb2xsLFxuICAndG91Y2gnOiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3BsdWdpbnNfcGx1Z2luc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLlRvdWNoXG59O1xuXG52YXIgV2ViU2xpZGVzID0gZnVuY3Rpb24gKCkge1xuICAvKipcclxuICAgKiBPcHRpb25zIGZvciBXZWJTbGlkZXNcclxuICAgKiBAcGFyYW0ge251bWJlcnxib29sZWFufSBhdXRvc2xpZGUgSWYgYSBudW1iZXIgaXMgcHJvdmlkZWQsIGl0IHdpbGwgYWxsb3dcclxuICAgKiBhdXRvc2xpZGluZyBieSBzYWlkIGFtb3VudCBvZiBtaWxpc2Vjb25kcy5cclxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNoYW5nZU9uQ2xpY2sgSWYgdHJ1ZSwgaXQgd2lsbCBhbGxvd1xyXG4gICAqIGNsaWNraW5nIG9uIGFueSBwbGFjZSB0byBjaGFuZ2UgdGhlIHNsaWRlLlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtaW5XaGVlbERlbHRhIENvbnRyb2xzIHRoZSBhbW91bnQgb2YgbmVlZGVkIHNjcm9sbCB0b1xyXG4gICAqIHRyaWdnZXIgbmF2aWdhdGlvbi5cclxuICAgKiBAcGFyYW0ge251bWJlcn0gc2Nyb2xsV2FpdCBDb250cm9scyB0aGUgYW1vdW50IG9mIHRpbWUgdG8gd2FpdCB0aWxsXHJcbiAgICogbmF2aWdhdGlvbiBjYW4gb2NjdXIgYWdhaW4gd2l0aCBzY3JvbGwuXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHNsaWRlT2Zmc2V0IENvbnRyb2xzIHRoZSBhbW91bnQgb2YgbmVlZGVkIHRvdWNoIGRlbHRhIHRvXHJcbiAgICogdHJpZ2dlciBuYXZpZ2F0aW9uLlxyXG4gICAqL1xuICBmdW5jdGlvbiBXZWJTbGlkZXMoKSB7XG4gICAgdmFyIF9yZWYgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9LFxuICAgICAgICBfcmVmJGF1dG9zbGlkZSA9IF9yZWYuYXV0b3NsaWRlLFxuICAgICAgICBhdXRvc2xpZGUgPSBfcmVmJGF1dG9zbGlkZSA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBfcmVmJGF1dG9zbGlkZSxcbiAgICAgICAgX3JlZiRjaGFuZ2VPbkNsaWNrID0gX3JlZi5jaGFuZ2VPbkNsaWNrLFxuICAgICAgICBjaGFuZ2VPbkNsaWNrID0gX3JlZiRjaGFuZ2VPbkNsaWNrID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IF9yZWYkY2hhbmdlT25DbGljayxcbiAgICAgICAgX3JlZiRtaW5XaGVlbERlbHRhID0gX3JlZi5taW5XaGVlbERlbHRhLFxuICAgICAgICBtaW5XaGVlbERlbHRhID0gX3JlZiRtaW5XaGVlbERlbHRhID09PSB1bmRlZmluZWQgPyA0MCA6IF9yZWYkbWluV2hlZWxEZWx0YSxcbiAgICAgICAgX3JlZiRzY3JvbGxXYWl0ID0gX3JlZi5zY3JvbGxXYWl0LFxuICAgICAgICBzY3JvbGxXYWl0ID0gX3JlZiRzY3JvbGxXYWl0ID09PSB1bmRlZmluZWQgPyA0NTAgOiBfcmVmJHNjcm9sbFdhaXQsXG4gICAgICAgIF9yZWYkc2xpZGVPZmZzZXQgPSBfcmVmLnNsaWRlT2Zmc2V0LFxuICAgICAgICBzbGlkZU9mZnNldCA9IF9yZWYkc2xpZGVPZmZzZXQgPT09IHVuZGVmaW5lZCA/IDUwIDogX3JlZiRzbGlkZU9mZnNldDtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBXZWJTbGlkZXMpO1xuXG4gICAgLyoqXHJcbiAgICAgKiBXZWJTbGlkZSBlbGVtZW50LlxyXG4gICAgICogQHR5cGUge0VsZW1lbnR9XHJcbiAgICAgKi9cbiAgICB0aGlzLmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dlYnNsaWRlcycpO1xuICAgIC8qKlxyXG4gICAgICogTW92aW5nIGZsYWcuXHJcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cclxuICAgICAqL1xuICAgIHRoaXMuaXNNb3ZpbmcgPSBmYWxzZTtcbiAgICAvKipcclxuICAgICAqIFNsaWRlJ3MgYXJyYXkuXHJcbiAgICAgKiBAdHlwZSB7P0FycmF5PFNsaWRlPn1cclxuICAgICAqL1xuICAgIHRoaXMuc2xpZGVzID0gbnVsbDtcbiAgICAvKipcclxuICAgICAqIEN1cnJlbnQgc2xpZGUncyBpbmRleC5cclxuICAgICAqIEB0eXBlIHtudW1iZXJ9XHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXG4gICAgdGhpcy5jdXJyZW50U2xpZGVJXyA9IC0xO1xuICAgIC8qKlxyXG4gICAgICogQ3VycmVudCBzbGlkZSByZWZlcmVuY2UuXHJcbiAgICAgKiBAdHlwZSB7P1NsaWRlfVxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xuICAgIHRoaXMuY3VycmVudFNsaWRlXyA9IG51bGw7XG4gICAgLyoqXHJcbiAgICAgKiBNYXggc2xpZGUgaW5kZXguXHJcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xuICAgIHRoaXMubWF4U2xpZGVfID0gMDtcbiAgICAvKipcclxuICAgICAqIFdoZXRoZXIgdGhlIGxheW91dCBpcyBnb2luZyB0byBiZSB2ZXJ0aWNhbCBvciBob3Jpem9udGFsLlxyXG4gICAgICogQHR5cGUge2Jvb2xlYW59XHJcbiAgICAgKi9cbiAgICB0aGlzLmlzVmVydGljYWwgPSB0aGlzLmVsLmNsYXNzTGlzdC5jb250YWlucyhDTEFTU0VTLlZFUlRJQ0FMKTtcbiAgICAvKipcclxuICAgICAqIFBsdWdpbidzIGRpY3Rpb25hcnkuXHJcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxyXG4gICAgICovXG4gICAgdGhpcy5wbHVnaW5zID0ge307XG4gICAgLyoqXHJcbiAgICAgKiBJbnRlcnZhbCBJRCByZWZlcmVuY2UgZm9yIHRoZSBhdXRvc2xpZGUuXHJcbiAgICAgKiBAdHlwZSB7P251bWJlcn1cclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cbiAgICB0aGlzLmludGVydmFsXyA9IG51bGw7XG4gICAgLyoqXHJcbiAgICAgKiBPcHRpb25zIGRpY3Rpb25hcnkuXHJcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxyXG4gICAgICovXG4gICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgYXV0b3NsaWRlOiBhdXRvc2xpZGUsXG4gICAgICBjaGFuZ2VPbkNsaWNrOiBjaGFuZ2VPbkNsaWNrLFxuICAgICAgbWluV2hlZWxEZWx0YTogbWluV2hlZWxEZWx0YSxcbiAgICAgIHNjcm9sbFdhaXQ6IHNjcm9sbFdhaXQsXG4gICAgICBzbGlkZU9mZnNldDogc2xpZGVPZmZzZXRcbiAgICB9O1xuXG4gICAgaWYgKCF0aGlzLmVsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkblxcJ3QgZmluZCB0aGUgd2Vic2xpZGVzIGNvbnRhaW5lciEnKTtcbiAgICB9XG5cbiAgICAvLyBCb290c3RyYXBwaW5nXG4gICAgdGhpcy5yZW1vdmVDaGlsZHJlbl8oKTtcbiAgICB0aGlzLmdyYWJTbGlkZXNfKCk7XG4gICAgdGhpcy5jcmVhdGVQbHVnaW5zXygpO1xuICAgIHRoaXMuaW5pdFNsaWRlc18oKTtcbiAgICB0aGlzLnBsYXkoKTtcbiAgICAvLyBGaW5pc2hlZFxuICAgIHRoaXMub25Jbml0XygpO1xuICB9XG5cbiAgLyoqXHJcbiAgICogUmVtb3ZlcyBhbGwgY2hpbGRyZW4gZWxlbWVudHMgaW5zaWRlIG9mIHRoZSBtYWluIGNvbnRhaW5lciB0aGF0IGFyZSBub3RcclxuICAgKiBlbGlnaWJsZSB0byBiZSBhIFNsaWRlIEVsZW1lbnQuXHJcbiAgICogQHByaXZhdGVcclxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhXZWJTbGlkZXMsIFt7XG4gICAga2V5OiAncmVtb3ZlQ2hpbGRyZW5fJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlQ2hpbGRyZW5fKCkge1xuICAgICAgdmFyIG5vZGVzID0gdGhpcy5lbC5jaGlsZE5vZGVzO1xuICAgICAgdmFyIGkgPSBub2Rlcy5sZW5ndGg7XG5cbiAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgdmFyIG5vZGUgPSBub2Rlc1tpXTtcblxuICAgICAgICBpZiAoIV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fc2xpZGVfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5pc0NhbmRpZGF0ZShub2RlKSkge1xuICAgICAgICAgIHRoaXMuZWwucmVtb3ZlQ2hpbGQobm9kZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYWxsIHRoZSByZWdpc3RlcmVkIHBsdWdpbnMgYW5kIHN0b3JlIHRoZSBpbnN0YW5jZXMgaW5zaWRlIG9mIHRoZVxyXG4gICAgICogdGhlIHdlYnNsaWRlIGluc3RhbmNlLlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdjcmVhdGVQbHVnaW5zXycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZVBsdWdpbnNfKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgT2JqZWN0LmtleXMoUExVR0lOUykuZm9yRWFjaChmdW5jdGlvbiAocGx1Z2luTmFtZSkge1xuICAgICAgICB2YXIgcGx1Z2luQ3RvID0gUExVR0lOU1twbHVnaW5OYW1lXTtcbiAgICAgICAgX3RoaXMucGx1Z2luc1twbHVnaW5OYW1lXSA9IG5ldyBwbHVnaW5DdG8oX3RoaXMpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXHJcbiAgICAgKiBDYWxsZWQgb25jZSB0aGUgV2ViU2xpZGUgaW5zdGFuY2UgaGFzIGZpbmlzaGVkIGluaXRpYWxpc2luZy5cclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKiBAZmlyZXMgV2ViU2xpZGUjd3M6aW5pdFxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ29uSW5pdF8nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbkluaXRfKCkge1xuICAgICAgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX191dGlsc19kb21fX1tcImFcIiAvKiBkZWZhdWx0ICovXS5maXJlRXZlbnQodGhpcy5lbCwgJ3dzOmluaXQnKTtcbiAgICB9XG5cbiAgICAvKipcclxuICAgICAqIEdyYWJzIHRoZSBzbGlkZXMgZnJvbSB0aGUgRE9NIGFuZCBjcmVhdGVzIGFsbCB0aGUgU2xpZGVzIG1vZHVsZXMuXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2dyYWJTbGlkZXNfJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ3JhYlNsaWRlc18oKSB7XG4gICAgICB0aGlzLnNsaWRlcyA9IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fdXRpbHNfZG9tX19bXCJhXCIgLyogZGVmYXVsdCAqL10udG9BcnJheSh0aGlzLmVsLmNoaWxkTm9kZXMpLm1hcChmdW5jdGlvbiAoc2xpZGUsIGkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX3NsaWRlX19bXCJhXCIgLyogZGVmYXVsdCAqL10oc2xpZGUsIGkpO1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMubWF4U2xpZGVfID0gdGhpcy5zbGlkZXMubGVuZ3RoO1xuICAgIH1cblxuICAgIC8qKlxyXG4gICAgICogR29lcyB0byBhIGdpdmVuIHNsaWRlLlxyXG4gICAgICogQHBhcmFtIHshbnVtYmVyfSBzbGlkZUkgVGhlIHNsaWRlIGluZGV4LlxyXG4gICAgICogQHBhcmFtIHs/Ym9vbGVhbn0gZm9yd2FyZCBXaGV0aGVyIHdlJ3JlIGZvcmNpbmcgbW92aW5nIGZvcndhcmQvYmFja3dhcmRzLlxyXG4gICAgICogVGhpcyBwYXJhbWV0ZXIgaXMgdXNlZCBvbmx5IGZyb20gdGhlIGdvTmV4dCwgZ29QcmV2IGZ1bmN0aW9ucyB0byBhZGp1c3QgdGhlXHJcbiAgICAgKiBzY3JvbGwgYW5pbWF0aW9ucy5cclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdnb1RvU2xpZGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnb1RvU2xpZGUoc2xpZGVJKSB7XG4gICAgICB2YXIgZm9yd2FyZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogbnVsbDtcblxuICAgICAgaWYgKHRoaXMuaXNWYWxpZEluZGV4U2xpZGVfKHNsaWRlSSkgJiYgIXRoaXMuaXNNb3ZpbmcgJiYgdGhpcy5jdXJyZW50U2xpZGVJXyAhPT0gc2xpZGVJKSB7XG4gICAgICAgIHRoaXMuaXNNb3ZpbmcgPSB0cnVlO1xuICAgICAgICB2YXIgaXNNb3ZpbmdGb3J3YXJkID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKGZvcndhcmQgIT09IG51bGwpIHtcbiAgICAgICAgICBpc01vdmluZ0ZvcndhcmQgPSBmb3J3YXJkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRTbGlkZUlfID49IDApIHtcbiAgICAgICAgICAgIGlzTW92aW5nRm9yd2FyZCA9IHNsaWRlSSA+IHRoaXMuY3VycmVudFNsaWRlSV87XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBuZXh0U2xpZGUgPSB0aGlzLnNsaWRlc1tzbGlkZUldO1xuXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRTbGlkZV8gIT09IG51bGwgJiYgdGhpcy5pc1ZlcnRpY2FsICYmICghdGhpcy5wbHVnaW5zLnRvdWNoIHx8ICF0aGlzLnBsdWdpbnMudG91Y2guaXNFbmFibGVkKSkge1xuICAgICAgICAgIHRoaXMuc2Nyb2xsVHJhbnNpdGlvblRvU2xpZGVfKGlzTW92aW5nRm9yd2FyZCwgbmV4dFNsaWRlLCB0aGlzLm9uU2xpZGVDaGFuZ2VfKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnRyYW5zaXRpb25Ub1NsaWRlXyhpc01vdmluZ0ZvcndhcmQsIG5leHRTbGlkZSwgdGhpcy5vblNsaWRlQ2hhbmdlXyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcclxuICAgICAqIFRyYW5zaXRpb25zIHRvIGEgc2xpZGUsIGRvaW5nIHRoZSBzY3JvbGwgYW5pbWF0aW9uLlxyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBpc01vdmluZ0ZvcndhcmQgV2hldGhlciB3ZSdyZSBnb2luZyBmb3J3YXJkIG9yIGJhY2t3YXJkcy5cclxuICAgICAqIEBwYXJhbSB7U2xpZGV9IG5leHRTbGlkZSBOZXh0IHNsaWRlLlxyXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGJhY2sgdG8gYmUgY2FsbGVkIHVwb24gZmluaXNoaW5nLiBUaGlzIGlzIGFuXHJcbiAgICAgKiBhc3luYyBmdW5jdGlvbiBzbyBpdCdsbCBoYXBwZW4gb25jZSB0aGUgc2Nyb2xsIGFuaW1hdGlvbiBmaW5pc2hlcy5cclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKiBAc2VlIHNjcm9sbFRvXHJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnc2Nyb2xsVHJhbnNpdGlvblRvU2xpZGVfJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2Nyb2xsVHJhbnNpdGlvblRvU2xpZGVfKGlzTW92aW5nRm9yd2FyZCwgbmV4dFNsaWRlLCBjYWxsYmFjaykge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHRoaXMuZWwuc3R5bGUub3ZlcmZsb3cgPSAnbm9uZSc7XG5cbiAgICAgIGlmICghaXNNb3ZpbmdGb3J3YXJkKSB7XG4gICAgICAgIG5leHRTbGlkZS5tb3ZlQmVmb3JlRmlyc3QoKTtcbiAgICAgICAgbmV4dFNsaWRlLnNob3coKTtcbiAgICAgICAgX193ZWJwYWNrX3JlcXVpcmVfXy5pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fdXRpbHNfc2Nyb2xsX3RvX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKHRoaXMuY3VycmVudFNsaWRlXy5lbC5vZmZzZXRUb3AsIDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV4dFNsaWRlLnNob3coKTtcbiAgICAgIH1cblxuICAgICAgX193ZWJwYWNrX3JlcXVpcmVfXy5pKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fdXRpbHNfc2Nyb2xsX3RvX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKG5leHRTbGlkZS5lbC5vZmZzZXRUb3AsIDUwMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczIuY3VycmVudFNsaWRlXy5oaWRlKCk7XG5cbiAgICAgICAgaWYgKGlzTW92aW5nRm9yd2FyZCkge1xuICAgICAgICAgIF90aGlzMi5jdXJyZW50U2xpZGVfLm1vdmVBZnRlckxhc3QoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzMi5lbC5zdHlsZS5vdmVyZmxvdyA9ICdhdXRvJztcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgY2FsbGJhY2suY2FsbChfdGhpczIsIG5leHRTbGlkZSk7XG4gICAgICAgIH0sIDE1MCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcclxuICAgICAqIFRyYW5zaXRpb25zIHRvIGEgc2xpZGUsIHdpdGhvdXQgZG9pbmcgdGhlIHNjcm9sbCBhbmltYXRpb24uXHJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzTW92aW5nRm9yd2FyZCBXaGV0aGVyIHdlJ3JlIGdvaW5nIGZvcndhcmQgb3IgYmFja3dhcmRzLlxyXG4gICAgICogQHBhcmFtIHtTbGlkZX0gbmV4dFNsaWRlIE5leHQgc2xpZGUuXHJcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBDYWxsYmFjayB0byBiZSBjYWxsZWQgdXBvbiBmaW5pc2hpbmcuIFRoaXMgaXMgYVxyXG4gICAgICogc3luYyBmdW5jdGlvbiBzbyBpdCdsbCBoYXBwZW4gb24gcnVuIHRpbWUuXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3RyYW5zaXRpb25Ub1NsaWRlXycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRyYW5zaXRpb25Ub1NsaWRlXyhpc01vdmluZ0ZvcndhcmQsIG5leHRTbGlkZSwgY2FsbGJhY2spIHtcbiAgICAgIF9fd2VicGFja19yZXF1aXJlX18uaShfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX3V0aWxzX3Njcm9sbF90b19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKSgwLCAwKTtcblxuICAgICAgaWYgKCFpc01vdmluZ0ZvcndhcmQpIHtcbiAgICAgICAgbmV4dFNsaWRlLm1vdmVCZWZvcmVGaXJzdCgpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5jdXJyZW50U2xpZGVfKSB7XG4gICAgICAgIGlmIChpc01vdmluZ0ZvcndhcmQpIHtcbiAgICAgICAgICB0aGlzLmN1cnJlbnRTbGlkZV8ubW92ZUFmdGVyTGFzdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jdXJyZW50U2xpZGVfLmhpZGUoKTtcbiAgICAgIH1cblxuICAgICAgbmV4dFNsaWRlLnNob3coKTtcbiAgICAgIGNhbGxiYWNrLmNhbGwodGhpcywgbmV4dFNsaWRlKTtcbiAgICB9XG5cbiAgICAvKipcclxuICAgICAqIFdoZW5ldmVyIGEgc2xpZGUgaXMgY2hhbmdlZCwgdGhpcyBmdW5jdGlvbiBnZXRzIGNhbGxlZC4gSXQgdXBkYXRlcyB0aGVcclxuICAgICAqIHJlZmVyZW5jZXMgdG8gdGhlIGN1cnJlbnQgc2xpZGUsIGRpc2FibGVzIHRoZSBtb3ZpbmcgZmxhZyBhbmQgZmlyZXNcclxuICAgICAqIGEgY3VzdG9tIGV2ZW50LlxyXG4gICAgICogQHBhcmFtIHtTbGlkZX0gc2xpZGUgVGhlIHNsaWRlIHdlJ3JlIHRyYW5zaXRpb25pbmcgdG8uXHJcbiAgICAgKiBAZmlyZXMgV2ViU2xpZGUjd3M6c2xpZGUtY2hhbmdlXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ29uU2xpZGVDaGFuZ2VfJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25TbGlkZUNoYW5nZV8oc2xpZGUpIHtcbiAgICAgIHRoaXMuY3VycmVudFNsaWRlXyA9IHNsaWRlO1xuICAgICAgdGhpcy5jdXJyZW50U2xpZGVJXyA9IHNsaWRlLmk7XG4gICAgICB0aGlzLmlzTW92aW5nID0gZmFsc2U7XG5cbiAgICAgIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fdXRpbHNfZG9tX19bXCJhXCIgLyogZGVmYXVsdCAqL10uZmlyZUV2ZW50KHRoaXMuZWwsICd3czpzbGlkZS1jaGFuZ2UnLCB7XG4gICAgICAgIHNsaWRlczogdGhpcy5tYXhTbGlkZV8sXG4gICAgICAgIGN1cnJlbnRTbGlkZTA6IHRoaXMuY3VycmVudFNsaWRlSV8sXG4gICAgICAgIGN1cnJlbnRTbGlkZTogdGhpcy5jdXJyZW50U2xpZGVJXyArIDFcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxyXG4gICAgICogR29lcyB0byB0aGUgbmV4dCBzbGlkZS5cclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdnb05leHQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnb05leHQoKSB7XG4gICAgICB2YXIgbmV4dEluZGV4ID0gdGhpcy5jdXJyZW50U2xpZGVJXyArIDE7XG5cbiAgICAgIGlmIChuZXh0SW5kZXggPj0gdGhpcy5tYXhTbGlkZV8pIHtcbiAgICAgICAgbmV4dEluZGV4ID0gMDtcbiAgICAgIH1cblxuICAgICAgdGhpcy5nb1RvU2xpZGUobmV4dEluZGV4LCB0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcclxuICAgICAqIEdvZXMgdG8gdGhlIHByZXZpb3VzIHNsaWRlLlxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2dvUHJldicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdvUHJldigpIHtcbiAgICAgIHZhciBwcmV2SW5kZXggPSB0aGlzLmN1cnJlbnRTbGlkZUlfIC0gMTtcblxuICAgICAgaWYgKHByZXZJbmRleCA8IDApIHtcbiAgICAgICAgcHJldkluZGV4ID0gdGhpcy5tYXhTbGlkZV8gLSAxO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmdvVG9TbGlkZShwcmV2SW5kZXgsIGZhbHNlKTtcbiAgICB9XG5cbiAgICAvKipcclxuICAgICAqIENoZWNrIGlmIHRoZSBnaXZlbiBudW1iZXIgaXMgYSB2YWxpZCBpbmRleCB0byBnbyB0by5cclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpIFRoZSBpbmRleCB0byBjaGVjay5cclxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgeW91IGNhbiBtb3ZlIHRvIHRoYXQgc2xpZGUgb3Igbm90LlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdpc1ZhbGlkSW5kZXhTbGlkZV8nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc1ZhbGlkSW5kZXhTbGlkZV8oaSkge1xuICAgICAgcmV0dXJuIGkgPj0gMCAmJiBpIDwgdGhpcy5tYXhTbGlkZV87XG4gICAgfVxuXG4gICAgLyoqXHJcbiAgICAgKiBJbml0IHRoZSBzaG93biBzbGlkZSBvbiBsb2FkLiBJdCdsbCBmZXRjaCBpdCBmcm9tIHRoZSBIYXNoIGlmIHByZXNlbnRcclxuICAgICAqIGFuZCwgb3RoZXJ3aXNlLCBpdCdsbCBkZWZhdWx0IHRvIHRoZSBmaXJzdCBvbmUuXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICogQHNlZSBIYXNoLmdldFNsaWRlTnVtYmVyXHJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnaW5pdFNsaWRlc18nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0U2xpZGVzXygpIHtcbiAgICAgIHZhciBzbGlkZU51bWJlciA9IHRoaXMucGx1Z2lucy5oYXNoLmNvbnN0cnVjdG9yLmdldFNsaWRlTnVtYmVyKCk7XG5cbiAgICAgIC8vIE5vdCB2YWxpZFxuICAgICAgaWYgKHNsaWRlTnVtYmVyID09PSBudWxsIHx8IHNsaWRlTnVtYmVyID49IHRoaXMubWF4U2xpZGVfKSB7XG4gICAgICAgIHNsaWRlTnVtYmVyID0gMDtcbiAgICAgIH1cblxuICAgICAgLy8gS2VlcGluZyB0aGUgb3JkZXJcbiAgICAgIGlmIChzbGlkZU51bWJlciAhPT0gMCkge1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHdoaWxlIChpIDwgc2xpZGVOdW1iZXIpIHtcbiAgICAgICAgICB0aGlzLnNsaWRlc1tpXS5tb3ZlQWZ0ZXJMYXN0KCk7XG4gICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuZ29Ub1NsaWRlKHNsaWRlTnVtYmVyKTtcbiAgICB9XG5cbiAgICAvKipcclxuICAgICAqIFJlZ2lzdGVycyBhIHBsdWdpbiB0byBiZSBsb2FkZWQgd2hlbiB0aGUgaW5zdGFuY2UgaXMgY3JlYXRlZC4gSXQgYWxsb3dzXHJcbiAgICAgKiAob24gcHVycG9zZSkgdG8gcmVwbGFjZSBkZWZhdWx0IHBsdWdpbnMuXHJcbiAgICAgKiBUaG9zZSBiZWluZzpcclxuICAgICAqICAtIE5hdmlnYXRpb25cclxuICAgICAqICAtIEhhc2hcclxuICAgICAqICAtIEtleWJvYXJkXHJcbiAgICAgKiBAcGFyYW0geyFzdHJpbmd9IGtleSBUaGV5IGtleSB1bmRlciB3aGljaCBpdCdsbCBiZSBzdG9yZWQgaW5zaWRlIG9mIHRoZVxyXG4gICAgICogaW5zdGFuY2UsIGluc2lkZSB0aGUgcGx1Z2lucyBkaWN0LlxyXG4gICAgICogQHBhcmFtIHshRnVuY3Rpb259IGN0byBQbHVnaW4gY29uc3RydWN0b3IuXHJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAncGxheScsXG5cblxuICAgIC8qKlxyXG4gICAgICogU3RhcnRzIGF1dG9zbGlkaW5nIGFsbCB0aGUgc2xpZGVzIGlmIGl0J3Mgbm90IGN1cnJlbnRseSBkb2luZyBpdCBhbmQgdGhlXHJcbiAgICAgKiBhdXRvc2xpZGUgb3B0aW9uIHdhcyBhIG51bWJlciBncmVhdGVyIHRoYW4gMC5cclxuICAgICAqIEBwYXJhbSB7P251bWJlcn0gdGltZSBBbW91bnQgb2YgbWlsbGlzZWNvbmRzIHRvIHdhaXQgdG8gZ28gdG8gbmV4dCBzbGlkZVxyXG4gICAgICogYXV0b21hdGljYWxseS5cclxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiBwbGF5KHRpbWUpIHtcbiAgICAgIHRpbWUgPSB0aW1lIHx8IHRoaXMub3B0aW9ucy5hdXRvc2xpZGU7XG5cbiAgICAgIGlmICghdGhpcy5pbnRlcnZhbF8gJiYgdHlwZW9mIHRpbWUgPT09ICdudW1iZXInICYmIHRpbWUgPiAwKSB7XG4gICAgICAgIHRoaXMuaW50ZXJ2YWxfID0gc2V0SW50ZXJ2YWwodGhpcy5nb05leHQuYmluZCh0aGlzKSwgdGltZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXHJcbiAgICAgKiBTdG9wcyBhdXRvc2xpZGluZyBhbGwgdGhlIHNsaWRlcy5cclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdzdG9wJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc3RvcCgpIHtcbiAgICAgIGlmICh0aGlzLmludGVydmFsXykge1xuICAgICAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxfKTtcbiAgICAgICAgdGhpcy5pbnRlcnZhbF8gPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgfV0sIFt7XG4gICAga2V5OiAncmVnaXN0ZXJQbHVnaW4nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZWdpc3RlclBsdWdpbihrZXksIGN0bykge1xuICAgICAgUExVR0lOU1trZXldID0gY3RvO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBXZWJTbGlkZXM7XG59KCk7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSBXZWJTbGlkZXM7XG5cbi8qKiovIH0pLFxuLyogNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG50aHJvdyBuZXcgRXJyb3IoXCJNb2R1bGUgYnVpbGQgZmFpbGVkOiBNb2R1bGVCdWlsZEVycm9yOiBNb2R1bGUgYnVpbGQgZmFpbGVkOiBObyBpbnB1dCBzcGVjaWZpZWQ6IHByb3ZpZGUgYSBmaWxlIG5hbWUgb3IgYSBzb3VyY2Ugc3RyaW5nIHRvIHByb2Nlc3NcXG4gICAgYXQgQzpcXFxcUHJvamVjdHNcXFxcR2l0aHViXFxcXHdlYnNsaWRlc1xcXFxub2RlX21vZHVsZXNcXFxcd2VicGFja1xcXFxsaWJcXFxcTm9ybWFsTW9kdWxlLmpzOjE0MTozNVxcbiAgICBhdCBDOlxcXFxQcm9qZWN0c1xcXFxHaXRodWJcXFxcd2Vic2xpZGVzXFxcXG5vZGVfbW9kdWxlc1xcXFxsb2FkZXItcnVubmVyXFxcXGxpYlxcXFxMb2FkZXJSdW5uZXIuanM6MzY0OjExXFxuICAgIGF0IEM6XFxcXFByb2plY3RzXFxcXEdpdGh1YlxcXFx3ZWJzbGlkZXNcXFxcbm9kZV9tb2R1bGVzXFxcXGxvYWRlci1ydW5uZXJcXFxcbGliXFxcXExvYWRlclJ1bm5lci5qczoyMzA6MThcXG4gICAgYXQgY29udGV4dC5jYWxsYmFjayAoQzpcXFxcUHJvamVjdHNcXFxcR2l0aHViXFxcXHdlYnNsaWRlc1xcXFxub2RlX21vZHVsZXNcXFxcbG9hZGVyLXJ1bm5lclxcXFxsaWJcXFxcTG9hZGVyUnVubmVyLmpzOjExMToxMylcXG4gICAgYXQgT2JqZWN0LmFzeW5jU2Fzc0pvYlF1ZXVlLnB1c2ggW2FzIGNhbGxiYWNrXSAoQzpcXFxcUHJvamVjdHNcXFxcR2l0aHViXFxcXHdlYnNsaWRlc1xcXFxub2RlX21vZHVsZXNcXFxcc2Fzcy1sb2FkZXJcXFxcbGliXFxcXGxvYWRlci5qczo1MToxMylcXG4gICAgYXQgQzpcXFxcUHJvamVjdHNcXFxcR2l0aHViXFxcXHdlYnNsaWRlc1xcXFxub2RlX21vZHVsZXNcXFxcYXN5bmNcXFxcZGlzdFxcXFxhc3luYy5qczoyMjM3OjMxXFxuICAgIGF0IGFwcGx5IChDOlxcXFxQcm9qZWN0c1xcXFxHaXRodWJcXFxcd2Vic2xpZGVzXFxcXG5vZGVfbW9kdWxlc1xcXFxhc3luY1xcXFxkaXN0XFxcXGFzeW5jLmpzOjIwOjI1KVxcbiAgICBhdCBDOlxcXFxQcm9qZWN0c1xcXFxHaXRodWJcXFxcd2Vic2xpZGVzXFxcXG5vZGVfbW9kdWxlc1xcXFxhc3luY1xcXFxkaXN0XFxcXGFzeW5jLmpzOjU2OjEyXFxuICAgIGF0IEM6XFxcXFByb2plY3RzXFxcXEdpdGh1YlxcXFx3ZWJzbGlkZXNcXFxcbm9kZV9tb2R1bGVzXFxcXGFzeW5jXFxcXGRpc3RcXFxcYXN5bmMuanM6ODQzOjE2XFxuICAgIGF0IG1vZHVsZS5leHBvcnRzLnJlbmRlciAoQzpcXFxcUHJvamVjdHNcXFxcR2l0aHViXFxcXHdlYnNsaWRlc1xcXFxub2RlX21vZHVsZXNcXFxcbm9kZS1zYXNzXFxcXGxpYlxcXFxpbmRleC5qczozNzU6NSlcXG4gICAgYXQgQzpcXFxcUHJvamVjdHNcXFxcR2l0aHViXFxcXHdlYnNsaWRlc1xcXFxub2RlX21vZHVsZXNcXFxcYXN5bmNcXFxcZGlzdFxcXFxhc3luYy5qczozODk0OjVcXG4gICAgYXQgcHJvY2VzcyAoQzpcXFxcUHJvamVjdHNcXFxcR2l0aHViXFxcXHdlYnNsaWRlc1xcXFxub2RlX21vZHVsZXNcXFxcYXN5bmNcXFxcZGlzdFxcXFxhc3luYy5qczoyMzA5OjE3KVxcbiAgICBhdCBJbW1lZGlhdGUuPGFub255bW91cz4gKEM6XFxcXFByb2plY3RzXFxcXEdpdGh1YlxcXFx3ZWJzbGlkZXNcXFxcbm9kZV9tb2R1bGVzXFxcXGFzeW5jXFxcXGRpc3RcXFxcYXN5bmMuanM6MjExNToxNilcXG4gICAgYXQgcnVuQ2FsbGJhY2sgKHRpbWVycy5qczo2NDk6MjApXFxuICAgIGF0IHRyeU9uSW1tZWRpYXRlICh0aW1lcnMuanM6NjIyOjUpXFxuICAgIGF0IHByb2Nlc3NJbW1lZGlhdGUgW2FzIF9pbW1lZGlhdGVDYWxsYmFja10gKHRpbWVycy5qczo1OTQ6NSlcIik7XG5cbi8qKiovIH0pLFxuLyogNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3V0aWxzX2RvbV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cblxuXG52YXIgQ0xBU1NFUyA9IHtcbiAgU0xJREU6ICdzbGlkZScsXG4gIENVUlJFTlQ6ICdjdXJyZW50J1xufTtcblxuLyoqXHJcbiAqIFdyYXBwZXIgZm9yIHRoZSBTbGlkZSBzZWN0aW9uLlxyXG4gKi9cblxudmFyIFNsaWRlID0gZnVuY3Rpb24gKCkge1xuICAvKipcclxuICAgKiBCb290c3RyYXBzIHRoZSBzbGlkZSBieSBzYXZpbmcgc29tZSBkYXRhLCBhZGRpbmcgYSBjbGFzcyBhbmQgaGlkaW5nIGl0LlxyXG4gICAqIEBwYXJhbSB7RWxlbWVudH0gZWwgU2VjdGlvbiBlbGVtZW50LlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpIFplcm8gYmFzZWQgaW5kZXggb2YgdGhlIHNsaWRlLlxyXG4gICAqL1xuICBmdW5jdGlvbiBTbGlkZShlbCwgaSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTbGlkZSk7XG5cbiAgICAvKipcclxuICAgICAqIEB0eXBlIHtFbGVtZW50fVxyXG4gICAgICovXG4gICAgdGhpcy5lbCA9IGVsO1xuICAgIC8qKlxyXG4gICAgICogVGhlIHNlY3Rpb24ncyBwYXJlbnQuXHJcbiAgICAgKiBAdHlwZSB7Tm9kZX1cclxuICAgICAqL1xuICAgIHRoaXMucGFyZW50ID0gZWwucGFyZW50Tm9kZTtcbiAgICAvKipcclxuICAgICAqIEB0eXBlIHtudW1iZXJ9XHJcbiAgICAgKi9cbiAgICB0aGlzLmkgPSBpO1xuXG4gICAgdGhpcy5lbC5pZCA9ICdzZWN0aW9uLScgKyAoaSArIDEpO1xuICAgIHRoaXMuZWwuY2xhc3NMaXN0LmFkZChDTEFTU0VTLlNMSURFKTtcblxuICAgIC8vIEhpZGUgc2xpZGVzIGJ5IGRlZmF1bHRcbiAgICB0aGlzLmhpZGUoKTtcbiAgfVxuXG4gIC8qKlxyXG4gICAqIEhpZGVzIHRoZSBub2RlIGFuZCByZW1vdmVzIHRoZSBjbGFzcyB0aGF0IG1ha2VzIGl0IFwiYWN0aXZlXCIuXHJcbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoU2xpZGUsIFt7XG4gICAga2V5OiAnaGlkZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhpZGUoKSB7XG4gICAgICBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3V0aWxzX2RvbV9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLmhpZGUodGhpcy5lbCk7XG4gICAgICB0aGlzLmVsLmNsYXNzTGlzdC5yZW1vdmUoQ0xBU1NFUy5DVVJSRU5UKTtcbiAgICB9XG5cbiAgICAvKipcclxuICAgICAqIFNob3dzIHRoZSBub2RlIGFuZCBhZGRzIHRoZSBjbGFzcyB0aGF0IG1ha2VzIGl0IFwiYWN0aXZlXCIuXHJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnc2hvdycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNob3coKSB7XG4gICAgICBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3V0aWxzX2RvbV9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLnNob3codGhpcy5lbCk7XG4gICAgICB0aGlzLmVsLmNsYXNzTGlzdC5hZGQoQ0xBU1NFUy5DVVJSRU5UKTtcbiAgICB9XG5cbiAgICAvKipcclxuICAgICAqIE1vdmVzIHRoZSBzZWN0aW9uIHRvIHRoZSBib3R0b20gb2YgdGhlIHNlY3Rpb24ncyBsaXN0LlxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ21vdmVBZnRlckxhc3QnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBtb3ZlQWZ0ZXJMYXN0KCkge1xuICAgICAgdmFyIGxhc3QgPSB0aGlzLnBhcmVudC5jaGlsZE5vZGVzW3RoaXMucGFyZW50LmNoaWxkRWxlbWVudENvdW50IC0gMV07XG5cbiAgICAgIHRoaXMucGFyZW50Lmluc2VydEJlZm9yZSh0aGlzLmVsLCBsYXN0Lm5leHRTaWJsaW5nKTtcbiAgICB9XG5cbiAgICAvKipcclxuICAgICAqIE1vdmVzIHRoZSBzZWN0aW9uIHRvIHRoZSB0b3Agb2YgdGhlIHNlY3Rpb24ncyBsaXN0LlxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ21vdmVCZWZvcmVGaXJzdCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1vdmVCZWZvcmVGaXJzdCgpIHtcbiAgICAgIHZhciBmaXJzdCA9IHRoaXMucGFyZW50LmNoaWxkTm9kZXNbMF07XG5cbiAgICAgIHRoaXMucGFyZW50Lmluc2VydEJlZm9yZSh0aGlzLmVsLCBmaXJzdCk7XG4gICAgfVxuXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3Mgd2hldGhlciBhbiBlbGVtZW50IGlzIGEgdmFsaWQgY2FuZGlkYXRlIHRvIGJlIGEgc2xpZGUgYnkgZW5zdXJpbmdcclxuICAgICAqIGl0J3MgYSBcInNlY3Rpb25cIiBlbGVtZW50LlxyXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBlbCBFbGVtZW50IHRvIGJlIGNoZWNrZWQuXHJcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIGlzIGNhbmRpZGF0ZSBvciBub3QuXHJcbiAgICAgKi9cblxuICB9XSwgW3tcbiAgICBrZXk6ICdpc0NhbmRpZGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGlzQ2FuZGlkYXRlKGVsKSB7XG4gICAgICByZXR1cm4gZWwubm9kZVR5cGUgPT09IDEgJiYgZWwudGFnTmFtZSA9PT0gJ1NFQ1RJT04nO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBTbGlkZTtcbn0oKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IFNsaWRlO1xuXG4vKioqLyB9KSxcbi8qIDYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgQ0xJQ0tBQkxFX0VMUyA9IFsnSU5QVVQnLCAnU0VMRUNUJywgJ09QVElPTicsICdCVVRUT04nLCAnQScsICdURVhUQVJFQSddO1xuXG52YXIgQ2xpY2tOYXYgPSBmdW5jdGlvbiAoKSB7XG4gIC8qKlxyXG4gICAqIENsaWNrTmF2IHBsdWdpbiB0aGF0IGFsbG93cyB0byBjbGljayBvbiB0aGUgcGFnZSB0byBnZXQgdG8gdGhlIG5leHQgc2xpZGUuXHJcbiAgICogQHBhcmFtIHtXZWJTbGlkZXN9IHdzSW5zdGFuY2UgVGhlIFdlYlNsaWRlcyBpbnN0YW5jZVxyXG4gICAqL1xuICBmdW5jdGlvbiBDbGlja05hdih3c0luc3RhbmNlKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENsaWNrTmF2KTtcblxuICAgIC8qKlxyXG4gICAgICogQHR5cGUge1dlYlNsaWRlc31cclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cbiAgICB0aGlzLndzXyA9IHdzSW5zdGFuY2U7XG5cbiAgICBpZiAod3NJbnN0YW5jZS5vcHRpb25zLmNoYW5nZU9uQ2xpY2spIHtcbiAgICAgIHRoaXMud3NfLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vbkNsaWNrXy5iaW5kKHRoaXMpKTtcbiAgICB9XG4gIH1cblxuICAvKipcclxuICAgKiBSZWFjdHMgdG8gdGhlIGNsaWNrIGV2ZW50LiBJdCB3aWxsIGdvIHRvIHRoZSBuZXh0IHNsaWRlIHVubGVzcyB0aGUgZWxlbWVudFxyXG4gICAqIGhhcyBhIGRhdGEtcHJldmVudC1uYXYgYXR0cmlidXRlIG9yIGlzIG9uIHRoZSBsaXN0IG9mIENMSUNLQUJMRV9FTFMuXHJcbiAgICogQHBhcmFtIHtNb3VzZUV2ZW50fSBldmVudCBUaGUgY2xpY2sgZXZlbnQuXHJcbiAgICogQHByaXZhdGVcclxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhDbGlja05hdiwgW3tcbiAgICBrZXk6ICdvbkNsaWNrXycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ2xpY2tfKGV2ZW50KSB7XG4gICAgICBpZiAoQ0xJQ0tBQkxFX0VMUy5pbmRleE9mKGV2ZW50LnRhcmdldC50YWdOYW1lKSA8IDAgJiYgdHlwZW9mIGV2ZW50LnRhcmdldC5kYXRhc2V0LnByZXZlbnROYXYgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRoaXMud3NfLmdvTmV4dCgpO1xuICAgICAgfVxuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBDbGlja05hdjtcbn0oKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IENsaWNrTmF2O1xuXG4vKioqLyB9KSxcbi8qIDcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX191dGlsc19rZXlzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuXG5cbnZhciBHcmlkID0gZnVuY3Rpb24gKCkge1xuICAvKipcclxuICAgKiBHcmlkIHBsdWdpbiB0aGF0IHNob3dzIGEgZ3JpZCBvbiB0b3Agb2YgdGhlIFdlYlNsaWRlcyBmb3IgZWFzeSBwcm90b3R5cGluZy5cclxuICAgKiBAcGFyYW0ge1dlYlNsaWRlc30gd3NJbnN0YW5jZSBUaGUgV2ViU2xpZGVzIGluc3RhbmNlXHJcbiAgICovXG4gIGZ1bmN0aW9uIEdyaWQod3NJbnN0YW5jZSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBHcmlkKTtcblxuICAgIC8qKlxyXG4gICAgICogQHR5cGUge1dlYlNsaWRlc31cclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cbiAgICB0aGlzLndzXyA9IHdzSW5zdGFuY2U7XG5cbiAgICB2YXIgQ1NTID0gJ2JvZHkuYmFzZWxpbmUge1xcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IHVybCguLi9pbWFnZXMvYmFzZWxpbmUucG5nKSBsZWZ0IHRvcCAuOHJlbS8uOHJlbTtcXG4gICAgICAgICAgICAgICAgfSc7XG4gICAgdmFyIGhlYWQgPSBkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF07XG4gICAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcblxuICAgIHN0eWxlLnR5cGUgPSAndGV4dC9jc3MnO1xuXG4gICAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IENTUztcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoQ1NTKSk7XG4gICAgfVxuXG4gICAgaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5vbktleVByZXNzXy5iaW5kKHRoaXMpLCBmYWxzZSk7XG4gIH1cblxuICAvKipcclxuICAgKiBSZWFjdHMgdG8gdGhlIGtleWRvd24gZXZlbnQuIEl0IHJlYWN0cyB0byBFTlRFUiBrZXkgdG8gdG9nZ2xlIHRoZSBjbGFzcy5cclxuICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50IFRoZSBrZXkgZXZlbnQuXHJcbiAgICogQHByaXZhdGVcclxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhHcmlkLCBbe1xuICAgIGtleTogJ29uS2V5UHJlc3NfJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25LZXlQcmVzc18oZXZlbnQpIHtcbiAgICAgIGlmIChldmVudC53aGljaCA9PT0gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX191dGlsc19rZXlzX19bXCJhXCIgLyogZGVmYXVsdCAqL10uRU5URVIpIHtcbiAgICAgICAgZG9jdW1lbnQuYm9keS50b2dnbGVDbGFzcygnYmFzZWxpbmUnKTtcbiAgICAgIH1cbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gR3JpZDtcbn0oKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IEdyaWQ7XG5cbi8qKiovIH0pLFxuLyogOCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBIQVNIID0gJyNzbGlkZSc7XG52YXIgc2xpZGVSZWdleCA9IC8jc2xpZGU9KFxcZCspLztcblxuLyoqXHJcbiAqIFN0YXRpYyBjbGFzcyB3aXRoIG1ldGhvZHMgdG8gbWFuaXB1bGF0ZSBhbmQgZXh0cmFjdCBpbmZvIGZyb20gdGhlIGhhc2ggb2ZcclxuICogdGhlIFVSTC5cclxuICovXG5cbnZhciBIYXNoID0gZnVuY3Rpb24gKCkge1xuICAvKipcclxuICAgKiBMaXN0ZW5zIHRvIHRoZSBzbGlkZSBjaGFuZ2UgZXZlbnQgYW5kIHRoZSBoYXNoIGNoYW5nZSBldmVudHMuXHJcbiAgICogQHBhcmFtIHdzSW5zdGFuY2VcclxuICAgKi9cbiAgZnVuY3Rpb24gSGFzaCh3c0luc3RhbmNlKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEhhc2gpO1xuXG4gICAgdGhpcy53c18gPSB3c0luc3RhbmNlO1xuXG4gICAgd3NJbnN0YW5jZS5lbC5hZGRFdmVudExpc3RlbmVyKCd3czpzbGlkZS1jaGFuZ2UnLCBIYXNoLm9uU2xpZGVDaGFuZ2VfKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignaGFzaGNoYW5nZScsIHRoaXMub25IYXNoQ2hhbmdlXy5iaW5kKHRoaXMpLCBmYWxzZSk7XG4gIH1cblxuICAvKipcclxuICAgKiBoYXNoY2hhbmdlIGV2ZW50IGhhbmRsZXIsIG1ha2VzIHRoZSBXZWJTbGlkZSBpbnN0YW5jZSBuYXZpZ2F0ZSB0byB0aGVcclxuICAgKiBuZWVkZWQgc2xpZGUuXHJcbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoSGFzaCwgW3tcbiAgICBrZXk6ICdvbkhhc2hDaGFuZ2VfJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25IYXNoQ2hhbmdlXygpIHtcbiAgICAgIHZhciBuZXdTbGlkZUluZGV4ID0gSGFzaC5nZXRTbGlkZU51bWJlcigpO1xuXG4gICAgICBpZiAobmV3U2xpZGVJbmRleCAhPT0gbnVsbCkge1xuICAgICAgICB0aGlzLndzXy5nb1RvU2xpZGUobmV3U2xpZGVJbmRleCk7XG4gICAgICB9XG4gICAgfVxuICB9XSwgW3tcbiAgICBrZXk6ICdvblNsaWRlQ2hhbmdlXycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uU2xpZGVDaGFuZ2VfKGV2ZW50KSB7XG4gICAgICBIYXNoLnNldFNsaWRlTnVtYmVyKGV2ZW50LmRldGFpbC5jdXJyZW50U2xpZGUpO1xuICAgIH1cblxuICAgIC8qKlxyXG4gICAgICogR2V0cyB0aGUgc2xpZGUgbnVtYmVyIGZyb20gdGhlIGhhc2ggYnkgYSByZWdleCBtYXRjaGluZyBgI3NsaWRlPWAgYW5kIGdldHNcclxuICAgICAqIHRoZSBudW1iZXIgYWZ0ZXIgaXQuIElmIHRoZSBudW1iZXIgaXMgaW52YWxpZCBvciBsZXNzIHRoYW4gMCwgaXQgd2lsbFxyXG4gICAgICogcmV0dXJuIG51bGwgYXMgYW4gaW52YWxpZCB2YWx1ZS5cclxuICAgICAqIEByZXR1cm4gez9udW1iZXJ9XHJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnZ2V0U2xpZGVOdW1iZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTbGlkZU51bWJlcigpIHtcbiAgICAgIHZhciByZXN1bHRzID0gZG9jdW1lbnQubG9jYXRpb24uaGFzaC5tYXRjaChzbGlkZVJlZ2V4KTtcbiAgICAgIHZhciBzbGlkZSA9IDA7XG5cbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHJlc3VsdHMpKSB7XG4gICAgICAgIHNsaWRlID0gcGFyc2VJbnQocmVzdWx0c1sxXSwgMTApO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIHNsaWRlICE9PSAnbnVtYmVyJyB8fCBzbGlkZSA8IDAgfHwgIUFycmF5LmlzQXJyYXkocmVzdWx0cykpIHtcbiAgICAgICAgc2xpZGUgPSBudWxsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2xpZGUtLTsgLy8gQ29udmVydCB0byAwIGluZGV4XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzbGlkZTtcbiAgICB9XG5cbiAgICAvKipcclxuICAgICAqIEl0IHdpbGwgdXBkYXRlIHRoZSBoYXNoIChpZiBpdCdzIGRpZmZlcmVudCkgc28gaXQgcmVmbGVjdHMgdGhlIHNsaWRlXHJcbiAgICAgKiBudW1iZXIgYmVpbmcgdmlzaWJsZS5cclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXIgVGhlIG51bWJlciBvZiB0aGUgc2xpZGUgd2UncmUgdHJhbnNpdGlvbmluZyB0by5cclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdzZXRTbGlkZU51bWJlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldFNsaWRlTnVtYmVyKG51bWJlcikge1xuICAgICAgaWYgKEhhc2guZ2V0U2xpZGVOdW1iZXIoKSAhPT0gbnVtYmVyIC0gMSkge1xuICAgICAgICBoaXN0b3J5LnB1c2hTdGF0ZSh7XG4gICAgICAgICAgc2xpZGVJOiBudW1iZXIgLSAxXG4gICAgICAgIH0sICdTbGlkZSAnICsgbnVtYmVyLCBIQVNIICsgJz0nICsgbnVtYmVyKTtcbiAgICAgIH1cbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gSGFzaDtcbn0oKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IEhhc2g7XG5cbi8qKiovIH0pLFxuLyogOSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3V0aWxzX2tleXNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5cblxudmFyIEtleWJvYXJkID0gZnVuY3Rpb24gKCkge1xuICAvKipcclxuICAgKiBLZXlib2FyZCBpbnRlcmFjdGlvbiBwbHVnaW4uXHJcbiAgICogQHBhcmFtIHtXZWJTbGlkZXN9IHdzSW5zdGFuY2UgVGhlIFdlYlNsaWRlcyBpbnN0YW5jZVxyXG4gICAqL1xuICBmdW5jdGlvbiBLZXlib2FyZCh3c0luc3RhbmNlKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEtleWJvYXJkKTtcblxuICAgIC8qKlxyXG4gICAgICogQHR5cGUge1dlYlNsaWRlc31cclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cbiAgICB0aGlzLndzXyA9IHdzSW5zdGFuY2U7XG5cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5vbktleVByZXNzXy5iaW5kKHRoaXMpLCBmYWxzZSk7XG4gIH1cblxuICAvKipcclxuICAgKiBSZWFjdHMgdG8gdGhlIGtleWRvd24gZXZlbnQuIEl0IHJlYWN0cyB0byB0aGUgYXJyb3dzIGFuZCBzcGFjZSBrZXlcclxuICAgKiBkZXBlbmRpbmcgb24gdGhlIGxheW91dCBvZiB0aGUgcGFnZS5cclxuICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50IFRoZSBrZXkgZXZlbnQuXHJcbiAgICogQHByaXZhdGVcclxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhLZXlib2FyZCwgW3tcbiAgICBrZXk6ICdvbktleVByZXNzXycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uS2V5UHJlc3NfKGV2ZW50KSB7XG4gICAgICB2YXIgbWV0aG9kID0gdm9pZCAwO1xuICAgICAgdmFyIGFyZ3VtZW50ID0gdm9pZCAwO1xuXG4gICAgICAvLyBDaGVjayBpZiB0aGVyZSdzIGEgZm9jdXNlZCBlbGVtZW50IHRoYXQgbWlnaHQgdXNlIHRoZSBrZXlib2FyZC5cbiAgICAgIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50KSB7XG4gICAgICAgIHZhciBpc0NvbnRlbnRFZGl0YWJsZSA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuY29udGVudEVkaXRhYmxlICE9PSAnaW5oZXJpdCc7XG4gICAgICAgIHZhciBpc0lucHV0ID0gWydJTlBVVCcsICdTRUxFQ1QnLCAnT1BUSU9OJywgJ1RFWFRBUkVBJ10uaW5kZXhPZihkb2N1bWVudC5hY3RpdmVFbGVtZW50LnRhZ05hbWUpID4gLTE7XG5cbiAgICAgICAgaWYgKGlzSW5wdXQgfHwgaXNDb250ZW50RWRpdGFibGUpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgc3dpdGNoIChldmVudC53aGljaCkge1xuICAgICAgICBjYXNlIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fdXRpbHNfa2V5c19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkFWX1BBR0U6XG4gICAgICAgIGNhc2UgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX191dGlsc19rZXlzX19bXCJhXCIgLyogZGVmYXVsdCAqL10uU1BBQ0U6XG4gICAgICAgICAgbWV0aG9kID0gdGhpcy53c18uZ29OZXh0O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fdXRpbHNfa2V5c19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLlJFX1BBR0U6XG4gICAgICAgICAgbWV0aG9kID0gdGhpcy53c18uZ29QcmV2O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fdXRpbHNfa2V5c19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkhPTUU6XG4gICAgICAgICAgbWV0aG9kID0gdGhpcy53c18uZ29Ub1NsaWRlO1xuICAgICAgICAgIGFyZ3VtZW50ID0gMDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3V0aWxzX2tleXNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5FTkQ6XG4gICAgICAgICAgbWV0aG9kID0gdGhpcy53c18uZ29Ub1NsaWRlO1xuICAgICAgICAgIGFyZ3VtZW50ID0gdGhpcy53c18ubWF4U2xpZGVfIC0gMTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3V0aWxzX2tleXNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5ET1dOOlxuICAgICAgICAgIG1ldGhvZCA9IHRoaXMud3NfLmlzVmVydGljYWwgPyB0aGlzLndzXy5nb05leHQgOiBudWxsO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fdXRpbHNfa2V5c19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLlVQOlxuICAgICAgICAgIG1ldGhvZCA9IHRoaXMud3NfLmlzVmVydGljYWwgPyB0aGlzLndzXy5nb1ByZXYgOiBudWxsO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fdXRpbHNfa2V5c19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkxFRlQ6XG4gICAgICAgICAgbWV0aG9kID0gIXRoaXMud3NfLmlzVmVydGljYWwgPyB0aGlzLndzXy5nb1ByZXYgOiBudWxsO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fdXRpbHNfa2V5c19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLlJJR0hUOlxuICAgICAgICAgIG1ldGhvZCA9ICF0aGlzLndzXy5pc1ZlcnRpY2FsID8gdGhpcy53c18uZ29OZXh0IDogbnVsbDtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgaWYgKG1ldGhvZCkge1xuICAgICAgICBtZXRob2QuY2FsbCh0aGlzLndzXywgYXJndW1lbnQpO1xuICAgICAgfVxuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBLZXlib2FyZDtcbn0oKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IEtleWJvYXJkO1xuXG4vKioqLyB9KSxcbi8qIDEwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fdXRpbHNfZG9tX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuXG5cbnZhciBFTEVNRU5UX0lEID0ge1xuICBOQVY6ICduYXZpZ2F0aW9uJyxcbiAgTkVYVDogJ25leHQnLFxuICBQUkVWOiAncHJldmlvdXMnLFxuICBDT1VOVEVSOiAnY291bnRlcidcbn07XG5cbnZhciBMQUJFTFMgPSB7XG4gIFZFUlRJQ0FMOiB7XG4gICAgTkVYVDogJ+KGkycsXG4gICAgUFJFVjogJ+KGkSdcbiAgfSxcbiAgSE9SSVpPTlRBTDoge1xuICAgIE5FWFQ6ICfihpInLFxuICAgIFBSRVY6ICfihpAnXG4gIH1cbn07XG5cbnZhciBOYXZpZ2F0aW9uID0gZnVuY3Rpb24gKCkge1xuICAvKipcclxuICAgKiBUaGUgTmF2aWdhdGlvbiBjb25zdHJ1Y3Rvci4gSXQnbGwgY3JlYXRlIGFsbCB0aGUgbm9kZXMgbmVlZGVkIGZvciB0aGVcclxuICAgKiBuYXZpZ2F0aW9uIHN1Y2ggYXMgdGhlIGFycm93cyBhbmQgdGhlIGNvdW50ZXIuXHJcbiAgICogQHBhcmFtIHtXZWJTbGlkZXN9IHdzSW5zdGFuY2UgVGhlIFdlYlNsaWRlcyBpbnN0YW5jZVxyXG4gICAqL1xuICBmdW5jdGlvbiBOYXZpZ2F0aW9uKHdzSW5zdGFuY2UpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTmF2aWdhdGlvbik7XG5cbiAgICB2YXIgYXJyb3dMYWJlbHMgPSB3c0luc3RhbmNlLmlzVmVydGljYWwgPyBMQUJFTFMuVkVSVElDQUwgOiBMQUJFTFMuSE9SSVpPTlRBTDtcbiAgICAvKipcclxuICAgICAqIE5hdmlnYXRpb24gZWxlbWVudC5cclxuICAgICAqIEB0eXBlIHtFbGVtZW50fVxyXG4gICAgICovXG4gICAgdGhpcy5lbCA9IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fdXRpbHNfZG9tX19bXCJhXCIgLyogZGVmYXVsdCAqL10uY3JlYXRlTm9kZSgnZGl2JywgJ25hdmlnYXRpb24nKTtcbiAgICAvKipcclxuICAgICAqIE5leHQgYnV0dG9uLlxyXG4gICAgICogQHR5cGUge0VsZW1lbnR9XHJcbiAgICAgKi9cbiAgICB0aGlzLm5leHQgPSBOYXZpZ2F0aW9uLmNyZWF0ZUFycm93KEVMRU1FTlRfSUQuTkVYVCwgYXJyb3dMYWJlbHMuTkVYVCk7XG4gICAgLyoqXHJcbiAgICAgKiBQcmV2IGJ1dHRvbi5cclxuICAgICAqIEB0eXBlIHtFbGVtZW50fVxyXG4gICAgICovXG4gICAgdGhpcy5wcmV2ID0gTmF2aWdhdGlvbi5jcmVhdGVBcnJvdyhFTEVNRU5UX0lELlBSRVYsIGFycm93TGFiZWxzLlBSRVYpO1xuICAgIC8qKlxyXG4gICAgICogQ291bnRlciBFbGVtZW50LlxyXG4gICAgICogQHR5cGUge0VsZW1lbnR9XHJcbiAgICAgKi9cbiAgICB0aGlzLmNvdW50ZXIgPSBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3V0aWxzX2RvbV9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLmNyZWF0ZU5vZGUoJ3NwYW4nLCBFTEVNRU5UX0lELkNPVU5URVIpO1xuICAgIC8qKlxyXG4gICAgICogQHR5cGUge1dlYlNsaWRlc31cclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cbiAgICB0aGlzLndzXyA9IHdzSW5zdGFuY2U7XG5cbiAgICB0aGlzLmVsLmFwcGVuZENoaWxkKHRoaXMubmV4dCk7XG4gICAgdGhpcy5lbC5hcHBlbmRDaGlsZCh0aGlzLnByZXYpO1xuICAgIHRoaXMuZWwuYXBwZW5kQ2hpbGQodGhpcy5jb3VudGVyKTtcblxuICAgIHRoaXMud3NfLmVsLmFwcGVuZENoaWxkKHRoaXMuZWwpO1xuICAgIHRoaXMuYmluZEV2ZW50c18oKTtcbiAgfVxuXG4gIC8qKlxyXG4gICAqIEJpbmQgYWxsIGV2ZW50cyBmb3IgdGhlIG5hdmlnYXRpb24uXHJcbiAgICogQHByaXZhdGVcclxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhOYXZpZ2F0aW9uLCBbe1xuICAgIGtleTogJ2JpbmRFdmVudHNfJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gYmluZEV2ZW50c18oKSB7XG4gICAgICB0aGlzLndzXy5lbC5hZGRFdmVudExpc3RlbmVyKCd3czpzbGlkZS1jaGFuZ2UnLCB0aGlzLm9uU2xpZGVDaGFuZ2VkXy5iaW5kKHRoaXMpKTtcbiAgICAgIHRoaXMubmV4dC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25CdXR0b25DbGlja2VkXy5iaW5kKHRoaXMpKTtcbiAgICAgIHRoaXMucHJldi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25CdXR0b25DbGlja2VkXy5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICAvKipcclxuICAgICAqIFVwZGF0ZXMgdGhlIGNvdW50ZXIgaW5zaWRlIHRoZSBuYXZpZ2F0aW9uLlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBjdXJyZW50IEN1cnJlbnQgc2xpZGUgbnVtYmVyLlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBtYXggTWF4IHNsaWRlIG51bWJlci5cclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICd1cGRhdGVDb3VudGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlQ291bnRlcihjdXJyZW50LCBtYXgpIHtcbiAgICAgIHRoaXMuY291bnRlci50ZXh0Q29udGVudCA9IGN1cnJlbnQgKyAnIC8gJyArIG1heDtcbiAgICB9XG5cbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYW4gYXJyb3cgdG8gbmF2aWdhdGUuXHJcbiAgICAgKiBAcGFyYW0geyFTdHJpbmd9IGlkIERlc2lyZWQgSUQgZm9yIHRoZSBhcnJvdy5cclxuICAgICAqIEBwYXJhbSB7IVN0cmluZ30gdGV4dCBEZXNpcmVkIHRleHQgZm9yIHRoZSBhcnJvdy5cclxuICAgICAqIEByZXR1cm4ge0VsZW1lbnR9IFRoZSBhcnJvdyBlbGVtZW50LlxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ29uU2xpZGVDaGFuZ2VkXycsXG5cblxuICAgIC8qKlxyXG4gICAgICogU2xpZGUgQ2hhbmdlIGV2ZW50IGhhbmRsZXIuIFdpbGwgdXBkYXRlIHRoZSB0ZXh0IG9uIHRoZSBuYXZpZ2F0aW9uLlxyXG4gICAgICogQHBhcmFtIHtDdXN0b21FdmVudH0gZXZlbnRcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gb25TbGlkZUNoYW5nZWRfKGV2ZW50KSB7XG4gICAgICB0aGlzLnVwZGF0ZUNvdW50ZXIoZXZlbnQuZGV0YWlsLmN1cnJlbnRTbGlkZSwgZXZlbnQuZGV0YWlsLnNsaWRlcyk7XG4gICAgfVxuXG4gICAgLyoqXHJcbiAgICAgKiBIYW5kbGVzIGNsaWNrcyBvbiB0aGUgbmV4dC9wcmV2IGJ1dHRvbnMuXHJcbiAgICAgKiBAcGFyYW0ge01vdXNlRXZlbnR9IGV2ZW50XHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ29uQnV0dG9uQ2xpY2tlZF8nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbkJ1dHRvbkNsaWNrZWRfKGV2ZW50KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gdGhpcy5uZXh0KSB7XG4gICAgICAgIHRoaXMud3NfLmdvTmV4dCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy53c18uZ29QcmV2KCk7XG4gICAgICB9XG4gICAgfVxuICB9XSwgW3tcbiAgICBrZXk6ICdjcmVhdGVBcnJvdycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZUFycm93KGlkLCB0ZXh0KSB7XG4gICAgICB2YXIgYXJyb3cgPSBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3V0aWxzX2RvbV9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLmNyZWF0ZU5vZGUoJ2EnLCBpZCwgdGV4dCk7XG4gICAgICBhcnJvdy5ocmVmID0gJyMnO1xuICAgICAgYXJyb3cudGl0bGUgPSAnQXJyb3cgS2V5cyc7XG5cbiAgICAgIHJldHVybiBhcnJvdztcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTmF2aWdhdGlvbjtcbn0oKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IE5hdmlnYXRpb247XG5cbi8qKiovIH0pLFxuLyogMTEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19jbGlja19uYXZfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19ncmlkX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9faGFzaF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX2tleWJvYXJkX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fbmF2aWdhdGlvbl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X19zY3JvbGxfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fdG91Y2hfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpO1xuXG5cblxuXG5cblxuXG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSB7XG4gIENsaWNrTmF2OiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2NsaWNrX25hdl9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLFxuICBHcmlkOiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2dyaWRfX1tcImFcIiAvKiBkZWZhdWx0ICovXSxcbiAgSGFzaDogX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19oYXNoX19bXCJhXCIgLyogZGVmYXVsdCAqL10sXG4gIEtleWJvYXJkOiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX2tleWJvYXJkX19bXCJhXCIgLyogZGVmYXVsdCAqL10sXG4gIE5hdmlnYXRpb246IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fbmF2aWdhdGlvbl9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLFxuICBTY3JvbGw6IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fc2Nyb2xsX19bXCJhXCIgLyogZGVmYXVsdCAqL10sXG4gIFRvdWNoOiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX3RvdWNoX19bXCJhXCIgLyogZGVmYXVsdCAqL11cbn07XG5cbi8qKiovIH0pLFxuLyogMTIgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX191dGlsc19tb2JpbGVfZGV0ZWN0b3JfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5cblxudmFyIFNjcm9sbCA9IGZ1bmN0aW9uICgpIHtcbiAgLyoqXHJcbiAgICogU2Nyb2xsIGhhbmRsZXIgZm9yIHRoZSBXZWJTbGlkZXMuXHJcbiAgICogQHBhcmFtIHtXZWJTbGlkZXN9IHdzSW5zdGFuY2UgVGhlIFdlYlNsaWRlcyBpbnN0YW5jZVxyXG4gICAqL1xuICBmdW5jdGlvbiBTY3JvbGwod3NJbnN0YW5jZSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTY3JvbGwpO1xuXG4gICAgLyoqXHJcbiAgICAgKiBAdHlwZSB7V2ViU2xpZGVzfVxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xuICAgIHRoaXMud3NfID0gd3NJbnN0YW5jZTtcbiAgICAvKipcclxuICAgICAqIFdoZXJlIHRoZSBzY3JvbGwgaXMgZ29pbmcgdG8gaGFwcGVuLiBUaGUgV2ViU2xpZGVzIGVsZW1lbnQuXHJcbiAgICAgKiBAdHlwZSB7RWxlbWVudH1cclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cbiAgICB0aGlzLnNjcm9sbENvbnRhaW5lcl8gPSB3c0luc3RhbmNlLmVsO1xuICAgIC8qKlxyXG4gICAgICogV2hldGhlciBtb3ZlbWVudCBpcyBoYXBwZW5pbmcgdXAgb3IgZG93bi5cclxuICAgICAqIEB0eXBlIHtib29sZWFufVxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xuICAgIHRoaXMuaXNHb2luZ1VwXyA9IGZhbHNlO1xuICAgIC8qKlxyXG4gICAgICogV2hldGhlciBtb3ZlbWVudCBpcyBoYXBwZW5pbmcgbGVmdCBvciByaWdodC5cclxuICAgICAqIEB0eXBlIHtib29sZWFufVxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xuICAgIHRoaXMuaXNHb2luZ0xlZnRfID0gZmFsc2U7XG4gICAgLyoqXHJcbiAgICAgKiBUaW1lb3V0IGlkIGhvbGRlci5cclxuICAgICAqIEB0eXBlIHs/bnVtYmVyfVxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xuICAgIHRoaXMudGltZW91dF8gPSBudWxsO1xuXG4gICAgaWYgKCFfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3V0aWxzX21vYmlsZV9kZXRlY3Rvcl9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLmlzQW55KCkpIHtcbiAgICAgIHRoaXMuc2Nyb2xsQ29udGFpbmVyXy5hZGRFdmVudExpc3RlbmVyKCd3aGVlbCcsIHRoaXMub25Nb3VzZVdoZWVsXy5iaW5kKHRoaXMpKTtcblxuICAgICAgaWYgKCF3c0luc3RhbmNlLmlzVmVydGljYWwpIHtcbiAgICAgICAgd3NJbnN0YW5jZS5lbC5hZGRFdmVudExpc3RlbmVyKCd3czpzbGlkZS1jaGFuZ2UnLCB0aGlzLm9uU2xpZGVDaGFuZ2VfLmJpbmQodGhpcykpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxyXG4gICAqIFdoZW4gdGhlIHNsaWRlcyBjaGFuZ2UsIHNldCBhbiBpbm5lciB0aW1lb3V0IHRvIGF2b2lkIHByZW1hdHVyZWx5XHJcbiAgICogY2hhbmdpbmcgdG8gdGhlIG5leHQgc2xpZGUgYWdhaW4uXHJcbiAgICogQHByaXZhdGVcclxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhTY3JvbGwsIFt7XG4gICAga2V5OiAnb25TbGlkZUNoYW5nZV8nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblNsaWRlQ2hhbmdlXygpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHRoaXMudGltZW91dF8gPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMudGltZW91dF8gPSBudWxsO1xuICAgICAgfSwgdGhpcy53c18ub3B0aW9ucy5zY3JvbGxXYWl0KTtcbiAgICB9XG5cbiAgICAvKipcclxuICAgICAqIFJlYWN0cyB0byB0aGUgd2hlZWwgZXZlbnQuIERldGVjdHMgd2hldGhlciBpcyBnb2luZyB1cCBvciBkb3duIGFuZCBkZWNpZGVzXHJcbiAgICAgKiBpZiBpdCBuZWVkcyB0byBtb3ZlIHRoZSBzbGlkZSBiYXNlZCBvbiB0aGUgYW1vdW50IG9mIGRlbHRhLlxyXG4gICAgICogQHBhcmFtIHtXaGVlbEV2ZW50fSBldmVudCBUaGUgV2hlZWwgRXZlbnQuXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ29uTW91c2VXaGVlbF8nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbk1vdXNlV2hlZWxfKGV2ZW50KSB7XG4gICAgICBpZiAodGhpcy53c18uaXNNb3ZpbmcgfHwgdGhpcy50aW1lb3V0Xykge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciB3aGVlbERlbHRhWSA9IGV2ZW50LmRlbHRhWSxcbiAgICAgICAgICB3aGVlbERlbHRhWCA9IGV2ZW50LmRlbHRhWDtcblxuICAgICAgdmFyIGlzVmVydGljYWwgPSB0aGlzLndzXy5pc1ZlcnRpY2FsO1xuICAgICAgdmFyIGlzSG9yaXpvbnRhbE1vdmVtZW50ID0gTWF0aC5hYnMod2hlZWxEZWx0YVgpID4gTWF0aC5hYnMod2hlZWxEZWx0YVkpO1xuICAgICAgdGhpcy5pc0dvaW5nVXBfID0gd2hlZWxEZWx0YVkgPCAwO1xuICAgICAgdGhpcy5pc0dvaW5nTGVmdF8gPSB3aGVlbERlbHRhWCA8IDA7XG5cbiAgICAgIC8vIElmIHdlJ3JlIG1haW5seSBtb3ZpbmcgaG9yaXpvbnRhbGx5LCBwcmV2ZW50IGRlZmF1bHRcbiAgICAgIGlmIChpc0hvcml6b250YWxNb3ZlbWVudCkge1xuICAgICAgICBpZiAoIWlzVmVydGljYWwpIHtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIElmIHdlJ3JlIG1vdmluZyBob3Jpem9udGFsbHkgYnV0IHRoaXMgaXMgdmVydGljYWwsIHJldHVybiB0byBhdm9pZFxuICAgICAgICAgIC8vIHVud2FudGVkIG5hdmlnYXRpb24uXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChNYXRoLmFicyh3aGVlbERlbHRhWSkgPj0gdGhpcy53c18ub3B0aW9ucy5taW5XaGVlbERlbHRhIHx8IE1hdGguYWJzKHdoZWVsRGVsdGFYKSA+PSB0aGlzLndzXy5vcHRpb25zLm1pbldoZWVsRGVsdGEpIHtcbiAgICAgICAgaWYgKGlzSG9yaXpvbnRhbE1vdmVtZW50ICYmIHRoaXMuaXNHb2luZ0xlZnRfIHx8ICFpc0hvcml6b250YWxNb3ZlbWVudCAmJiB0aGlzLmlzR29pbmdVcF8pIHtcbiAgICAgICAgICB0aGlzLndzXy5nb1ByZXYoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLndzXy5nb05leHQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFNjcm9sbDtcbn0oKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IFNjcm9sbDtcbjtcblxuLyoqKi8gfSksXG4vKiAxMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3V0aWxzX21vYmlsZV9kZXRlY3Rvcl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cblxuXG52YXIgRVZFTlRTID0ge1xuICB0b3VjaDoge1xuICAgIFNUQVJUOiAndG91Y2hzdGFydCcsXG4gICAgTU9WRTogJ3RvdWNobW92ZScsXG4gICAgRU5EOiAndG91Y2hlbmQnXG4gIH0sXG4gIHBvaW50ZXI6IHtcbiAgICBTVEFSVDogJ3BvaW50ZXJkb3duJyxcbiAgICBNT1ZFOiAncG9pbnRlcm1vdmUnLFxuICAgIEVORDogJ3BvaW50ZXJ1cCdcbiAgfVxufTtcblxudmFyIFRvdWNoID0gZnVuY3Rpb24gKCkge1xuICAvKipcclxuICAgKiBAcGFyYW0ge1dlYlNsaWRlc30gd3NJbnN0YW5jZSBUaGUgV2ViU2xpZGVzIGluc3RhbmNlXHJcbiAgICovXG4gIGZ1bmN0aW9uIFRvdWNoKHdzSW5zdGFuY2UpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVG91Y2gpO1xuXG4gICAgLyoqXHJcbiAgICAgKiBAdHlwZSB7V2ViU2xpZGVzfVxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xuICAgIHRoaXMud3NfID0gd3NJbnN0YW5jZTtcblxuICAgIC8qKlxyXG4gICAgICogU3RhcnQgcG9zaXRpb24gZm9yIHRoZSBYIGNvb3JkLlxyXG4gICAgICogQHR5cGUge251bWJlcn1cclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cbiAgICB0aGlzLnN0YXJ0WF8gPSAwO1xuXG4gICAgLyoqXHJcbiAgICAgKiBTdGFydCBwb3NpdGlvbiBmb3IgdGhlIFkgY29vcmQuXHJcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xuICAgIHRoaXMuc3RhcnRZXyA9IDA7XG5cbiAgICAvKipcclxuICAgICAqIFN0YXJ0IHBvc2l0aW9uIGZvciB0aGUgWCBjb29yZC5cclxuICAgICAqIEB0eXBlIHtudW1iZXJ9XHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXG4gICAgdGhpcy5lbmRYXyA9IDA7XG5cbiAgICAvKipcclxuICAgICAqIFN0YXJ0IHBvc2l0aW9uIGZvciB0aGUgWSBjb29yZC5cclxuICAgICAqIEB0eXBlIHtudW1iZXJ9XHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXG4gICAgdGhpcy5lbmRZXyA9IDA7XG5cbiAgICAvKipcclxuICAgICAqIFdoZXRoZXIgaXMgZW5hYmxlZCBvciBub3QuIE9ubHkgZW5hYmxlZCBmb3IgdG91Y2ggZGV2aWNlcy5cclxuICAgICAqIEB0eXBlIHtib29sZWFufVxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xuICAgIHRoaXMuaXNFbmFibGVkID0gZmFsc2U7XG5cbiAgICB2YXIgZXZlbnRzID0gdm9pZCAwO1xuXG4gICAgaWYgKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fdXRpbHNfbW9iaWxlX2RldGVjdG9yX19bXCJhXCIgLyogZGVmYXVsdCAqL10uaXNBbnkoKSkge1xuICAgICAgLy8gTGlrZWx5IElFXG4gICAgICBpZiAod2luZG93LlBvaW50ZXJFdmVudCAmJiAoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX191dGlsc19tb2JpbGVfZGV0ZWN0b3JfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5pc1dpbmRvd3MoKSB8fCBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3V0aWxzX21vYmlsZV9kZXRlY3Rvcl9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLmlzV2luZG93c1Bob25lKCkpKSB7XG4gICAgICAgIGV2ZW50cyA9IEVWRU5UUy5wb2ludGVyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZXZlbnRzID0gRVZFTlRTLnRvdWNoO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmlzRW5hYmxlZCA9IHRydWU7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50cy5TVEFSVCwgdGhpcy5vblN0YXJ0Xy5iaW5kKHRoaXMpLCBmYWxzZSk7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50cy5NT1ZFLCB0aGlzLm9uTW92ZV8uYmluZCh0aGlzKSwgZmFsc2UpO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudHMuTU9WRSwgdGhpcy5vbk1vdmVfLmJpbmQodGhpcyksIGZhbHNlKTtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRzLkVORCwgdGhpcy5vblN0b3BfLmJpbmQodGhpcyksIGZhbHNlKTtcbiAgICB9XG4gIH1cblxuICAvKipcclxuICAgKiBTdGFydCB0b3VjaCBoYW5kbGVyLiBTYXZlcyBzdGFydGluZyBwb2ludHMuXHJcbiAgICogQHBhcmFtIGV2ZW50XHJcbiAgICogQHByaXZhdGVcclxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhUb3VjaCwgW3tcbiAgICBrZXk6ICdvblN0YXJ0XycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uU3RhcnRfKGV2ZW50KSB7XG4gICAgICB2YXIgaW5mbyA9IFRvdWNoLm5vcm1hbGl6ZUV2ZW50SW5mbyhldmVudCk7XG5cbiAgICAgIHRoaXMuc3RhcnRYXyA9IGluZm8ueDtcbiAgICAgIHRoaXMuc3RhcnRZXyA9IGluZm8ueTtcbiAgICAgIHRoaXMuZW5kWF8gPSBpbmZvLng7XG4gICAgICB0aGlzLmVuZFlfID0gaW5mby55O1xuICAgIH1cblxuICAgIC8qKlxyXG4gICAgICogTW92ZSB0b3VjaCBoYW5kbGVyLiBTYXZlcyBlbmQgcG9pbnRzLlxyXG4gICAgICogQHBhcmFtIGV2ZW50XHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ29uTW92ZV8nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbk1vdmVfKGV2ZW50KSB7XG4gICAgICB2YXIgaW5mbyA9IFRvdWNoLm5vcm1hbGl6ZUV2ZW50SW5mbyhldmVudCk7XG5cbiAgICAgIHRoaXMuZW5kWF8gPSBpbmZvLng7XG4gICAgICB0aGlzLmVuZFlfID0gaW5mby55O1xuICAgIH1cblxuICAgIC8qKlxyXG4gICAgICogU3RvcCB0b3VjaCBoYW5kbGVyLiBDaGVja3MgaWYgaXQgbmVlZHMgdG8gbWFrZSBhbnkgYWN0aW9ucy5cclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnb25TdG9wXycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uU3RvcF8oKSB7XG4gICAgICB2YXIgZGlmZlggPSB0aGlzLnN0YXJ0WF8gLSB0aGlzLmVuZFhfO1xuICAgICAgdmFyIGRpZmZZID0gdGhpcy5zdGFydFlfIC0gdGhpcy5lbmRZXztcblxuICAgICAgLy8gSXQncyBhbiBob3Jpem9udGFsIGRyYWdcbiAgICAgIGlmIChNYXRoLmFicyhkaWZmWCkgPiBNYXRoLmFicyhkaWZmWSkpIHtcbiAgICAgICAgaWYgKGRpZmZYIDwgLXRoaXMud3NfLm9wdGlvbnMuc2xpZGVPZmZzZXQpIHtcbiAgICAgICAgICB0aGlzLndzXy5nb1ByZXYoKTtcbiAgICAgICAgfSBlbHNlIGlmIChkaWZmWCA+IHRoaXMud3NfLm9wdGlvbnMuc2xpZGVPZmZzZXQpIHtcbiAgICAgICAgICB0aGlzLndzXy5nb05leHQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxyXG4gICAgICogTm9ybWFsaXplcyBhbiBldmVudCB0byBkZWFsIHdpdGggZGlmZmVyZW5jZXMgYmV0d2VlbiBQb2ludGVyRXZlbnQgYW5kXHJcbiAgICAgKiBUb3VjaEV2ZW50LlxyXG4gICAgICogQHBhcmFtIGV2ZW50XHJcbiAgICAgKiBAcmV0dXJuIHsqfVxyXG4gICAgICovXG5cbiAgfV0sIFt7XG4gICAga2V5OiAnbm9ybWFsaXplRXZlbnRJbmZvJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gbm9ybWFsaXplRXZlbnRJbmZvKGV2ZW50KSB7XG4gICAgICB2YXIgeCA9IHZvaWQgMDtcbiAgICAgIHZhciB5ID0gdm9pZCAwO1xuICAgICAgdmFyIHRvdWNoRXZlbnQgPSB7IHBhZ2VYOiAwLCBwYWdlWTogMCB9O1xuXG4gICAgICBpZiAodHlwZW9mIGV2ZW50LmNoYW5nZWRUb3VjaGVzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0b3VjaEV2ZW50ID0gZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF07XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBldmVudC5vcmlnaW5hbEV2ZW50ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgZXZlbnQub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlcyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdG91Y2hFdmVudCA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF07XG4gICAgICB9XG5cbiAgICAgIHggPSBldmVudC5vZmZzZXRYIHx8IGV2ZW50LmxheWVyWCB8fCB0b3VjaEV2ZW50LnBhZ2VYO1xuICAgICAgeSA9IGV2ZW50Lm9mZnNldFkgfHwgZXZlbnQubGF5ZXJZIHx8IHRvdWNoRXZlbnQucGFnZVk7XG5cbiAgICAgIHJldHVybiB7IHg6IHgsIHk6IHkgfTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gVG91Y2g7XG59KCk7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSBUb3VjaDtcbjtcblxuLyoqKi8gfSksXG4vKiAxNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbnZhciBOYXRpdmVDdXN0b21FdmVudCA9IHdpbmRvdy5DdXN0b21FdmVudDtcblxuLyoqXHJcbiAqIENoZWNrIGZvciB0aGUgdXNhZ2Ugb2YgbmF0aXZlIHN1cHBvcnQgZm9yIEN1c3RvbUV2ZW50cyB3aGljaCBpcyBsYWNraW5nXHJcbiAqIGNvbXBsZXRlbHkgb24gSUUuXHJcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgaXQgY2FuIGJlIHVzZWQgb3Igbm90LlxyXG4gKi9cbmZ1bmN0aW9uIGNhbkl1c2VOYXRpdmVDdXN0b20oKSB7XG4gIHRyeSB7XG4gICAgdmFyIHAgPSBuZXcgTmF0aXZlQ3VzdG9tRXZlbnQoJ3QnLCB7IGRldGFpbDogeyBhOiAnYicgfSB9KTtcbiAgICByZXR1cm4gJ3QnID09PSBwLnR5cGUgJiYgJ2InID09PSBwLmRldGFpbC5hO1xuICB9IGNhdGNoIChlKSB7fVxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxyXG4gKiBMb3VzeSBwb2x5ZmlsbCBmb3IgdGhlIEN1c3RvbSBFdmVudCBjb25zdHJ1Y3RvciBmb3IgSUUuXHJcbiAqIEBwYXJhbSB7IXN0cmluZ30gdHlwZSBUaGUgdHlwZSBvZiB0aGUgZXZlbnQuXHJcbiAqIEBwYXJhbSB7P09iamVjdH0gcGFyYW1zIEFkZGl0aW9uYWwgaW5mb3JtYXRpb24gZm9yIHRoZSBldmVudC5cclxuICogQHJldHVybiB7RXZlbnR9XHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKi9cbnZhciBJRUN1c3RvbUV2ZW50ID0gZnVuY3Rpb24gQ3VzdG9tRXZlbnQodHlwZSwgcGFyYW1zKSB7XG4gIHZhciBlID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0N1c3RvbUV2ZW50Jyk7XG5cbiAgaWYgKHBhcmFtcykge1xuICAgIGUuaW5pdEN1c3RvbUV2ZW50KHR5cGUsIHBhcmFtcy5idWJibGVzLCBwYXJhbXMuY2FuY2VsYWJsZSwgcGFyYW1zLmRldGFpbCk7XG4gIH0gZWxzZSB7XG4gICAgZS5pbml0Q3VzdG9tRXZlbnQodHlwZSwgZmFsc2UsIGZhbHNlLCB1bmRlZmluZWQpO1xuICB9XG5cbiAgcmV0dXJuIGU7XG59O1xuXG52YXIgV1NDdXN0b21FdmVudCA9IGNhbkl1c2VOYXRpdmVDdXN0b20oKSA/IE5hdGl2ZUN1c3RvbUV2ZW50IDogSUVDdXN0b21FdmVudDtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IFdTQ3VzdG9tRXZlbnQ7XG5cbi8qKiovIH0pLFxuLyogMTUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKipcclxuICogU3dpbmcgZWFzaW5nIGZ1bmN0aW9uLlxyXG4gKiBAcGFyYW0ge251bWJlcn0gcCBUaGUgcGVyY2VudGFnZSBvZiB0aW1lIHRoYXQgaGFzIHBhc3NlZC5cclxuICogQHJldHVybiB7bnVtYmVyfVxyXG4gKi9cbmZ1bmN0aW9uIHN3aW5nKHApIHtcbiAgcmV0dXJuIDAuNSAtIE1hdGguY29zKHAgKiBNYXRoLlBJKSAvIDI7XG59XG5cbi8qKlxyXG4gKiBMaW5lYXIgZWFzaW5nIGZ1bmN0aW9uLlxyXG4gKiBAcGFyYW0ge251bWJlcn0gcCBUaGUgcGVyY2VudGFnZSBvZiB0aW1lIHRoYXQgaGFzIHBhc3NlZC5cclxuICogQHJldHVybiB7bnVtYmVyfVxyXG4gKi9cbmZ1bmN0aW9uIGxpbmVhcihwKSB7XG4gIHJldHVybiBwO1xufVxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0geyBzd2luZzogc3dpbmcsIGxpbmVhcjogbGluZWFyIH07XG5cbi8qKiovIH0pLFxuLyogMTYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19lYXNpbmdfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpO1xuLyogaGFybW9ueSBleHBvcnQgKGltbXV0YWJsZSkgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSBzY3JvbGxUbztcblxuXG52YXIgU0NST0xMQUJMRV9DT05UQUlORVIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2Vic2xpZGVzJyk7XG5cbi8qKlxyXG4gKiBTbW9vdGhseSBzY3JvbGxzIHRvIGEgZ2l2ZW4gWSBwb3NpdGlvbiB1c2luZyBFYXNpbmcuU3dpbmcuIEl0J2xsIHJ1biBhXHJcbiAqIGNhbGxiYWNrIHVwb24gZmluaXNoaW5nLlxyXG4gKiBAcGFyYW0ge251bWJlcn0geSBPZmZzZXQgb2YgdGhlIHBhZ2UgdG8gc2Nyb2xsIHRvLlxyXG4gKiBAcGFyYW0ge251bWJlcn0gZHVyYXRpb24gRHVyYXRpb24gb2YgdGhlIGFuaW1hdGlvbi4gNTAwbXMgYnkgZGVmYXVsdC5cclxuICogQHBhcmFtIHtmdW5jdGlvbn0gY2IgQ2FsbGJhY2sgZnVuY3Rpb24gdG8gY2FsbCB1cG9uIGNvbXBsZXRpb24uXHJcbiAqL1xuZnVuY3Rpb24gc2Nyb2xsVG8oeSkge1xuICB2YXIgZHVyYXRpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDUwMDtcbiAgdmFyIGNiID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBmdW5jdGlvbiAoKSB7fTtcblxuICB2YXIgZGVsdGEgPSB5IC0gU0NST0xMQUJMRV9DT05UQUlORVIuc2Nyb2xsVG9wO1xuICB2YXIgc3RhcnRMb2NhdGlvbiA9IFNDUk9MTEFCTEVfQ09OVEFJTkVSLnNjcm9sbFRvcDtcbiAgdmFyIGluY3JlbWVudCA9IDE2O1xuXG4gIGlmICghZHVyYXRpb24pIHtcbiAgICBTQ1JPTExBQkxFX0NPTlRBSU5FUi5zY3JvbGxUb3AgPSB5O1xuICAgIGNiKCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGFuaW1hdGVTY3JvbGwgPSBmdW5jdGlvbiBhbmltYXRlU2Nyb2xsKGVsYXBzZWRUaW1lKSB7XG4gICAgZWxhcHNlZFRpbWUgKz0gaW5jcmVtZW50O1xuICAgIHZhciBwZXJjZW50ID0gTWF0aC5taW4oMSwgZWxhcHNlZFRpbWUgLyBkdXJhdGlvbik7XG4gICAgdmFyIGVhc2luZ1AgPSBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2Vhc2luZ19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLnN3aW5nKHBlcmNlbnQsIGVsYXBzZWRUaW1lICogcGVyY2VudCwgeSwgZGVsdGEsIGR1cmF0aW9uKTtcblxuICAgIFNDUk9MTEFCTEVfQ09OVEFJTkVSLnNjcm9sbFRvcCA9IE1hdGguZmxvb3Ioc3RhcnRMb2NhdGlvbiArIGVhc2luZ1AgKiBkZWx0YSk7XG5cbiAgICBpZiAoZWxhcHNlZFRpbWUgPCBkdXJhdGlvbikge1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBhbmltYXRlU2Nyb2xsKGVsYXBzZWRUaW1lKTtcbiAgICAgIH0sIGluY3JlbWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNiKCk7XG4gICAgfVxuICB9O1xuXG4gIGFuaW1hdGVTY3JvbGwoMCk7XG59XG5cbi8qKiovIH0pLFxuLyogMTcgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19tb2R1bGVzX3dlYnNsaWRlc19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblxuX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblxud2luZG93LldlYlNsaWRlcyA9IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fbW9kdWxlc193ZWJzbGlkZXNfX1tcImFcIiAvKiBkZWZhdWx0ICovXTtcblxuLyoqKi8gfSlcbi8qKioqKiovIF0pO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJzbGlkZXMubWluLmpzIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG5cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGlkZW50aXR5IGZ1bmN0aW9uIGZvciBjYWxsaW5nIGhhcm1vbnkgaW1wb3J0cyB3aXRoIHRoZSBjb3JyZWN0IGNvbnRleHRcbiBcdF9fd2VicGFja19yZXF1aXJlX18uaSA9IGZ1bmN0aW9uKHZhbHVlKSB7IHJldHVybiB2YWx1ZTsgfTtcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZ2V0dGVyXG4gXHRcdFx0fSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiL3N0YXRpYy9qcy9cIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxNyk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjay9ib290c3RyYXAgOTE5MmQyMTJhZWFiODU4MWQ1NTUiLCJpbXBvcnQgV1NDdXN0b21FdmVudCBmcm9tICcuL2N1c3RvbS1ldmVudCc7XHJcblxyXG5cclxuLyoqXHJcbiAqIFN0YXRpYyBjbGFzcyBmb3IgRE9NIGhlbHBlci5cclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERPTSB7XHJcbiAgLyoqXHJcbiAgICogQ3JlYXRlcyBhIG5vZGUgd2l0aCBvcHRpb25hbCBwYXJhbWV0ZXJzLlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0YWcgVGhlIG5hbWUgb2YgdGhlIHRhZyBvZiB0aGUgbmVlZGVkIGVsZW1lbnQuXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBkZXNpcmVkIGlkIGZvciB0aGUgZWxlbWVudC4gSXQgZGVmYXVsdHMgdG8gYW5cclxuICAgKiBlbXB0eSBzdHJpbmcuXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgVGhlIGRlc2lyZWQgdGV4dCB0byBnbyBpbnNpZGUgb2YgdGhlIGVsZW1lbnQuIEl0IGRlZmF1bHRzXHJcbiAgICogdG8gYW4gZW1wdHkgc3RyaW5nLlxyXG4gICAqIEByZXR1cm4ge0VsZW1lbnR9XHJcbiAgICovXHJcbiAgc3RhdGljIGNyZWF0ZU5vZGUodGFnLCBpZCA9ICcnLCB0ZXh0ID0gJycpIHtcclxuICAgIGNvbnN0IG5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZyk7XHJcbiAgICBub2RlLmlkID0gaWQ7XHJcblxyXG4gICAgaWYgKHRleHQpIHtcclxuICAgICAgbm9kZS50ZXh0Q29udGVudCA9IHRleHQ7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG5vZGU7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBIaWRlcyBhbiBlbGVtZW50IHNldHRpbmcgdGhlIGRpc3BsYXkgdG8gbm9uZS5cclxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsIEVsZW1lbnQgdG8gYmUgaGlkZGVuLlxyXG4gICAqL1xyXG4gIHN0YXRpYyBoaWRlKGVsKSB7XHJcbiAgICBlbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2hvd3MgYW4gZWxlbWVudCBieSByZW1vdmluZyB0aGUgZGlzcGxheSBwcm9wZXJ0eS4gVGhpcyBpcyBvbmx5IGludGVuZGVkXHJcbiAgICogdG8gYmUgdXNlZCBpbiBjb25qdW5jdGlvbiB3aXRoIERPTS5oaWRlLlxyXG4gICAqIEBwYXJhbSB7RWxlbWVudH0gZWwgRWxlbWVudCB0byBiZSBzaG93bi5cclxuICAgKi9cclxuICBzdGF0aWMgc2hvdyhlbCkge1xyXG4gICAgZWwuc3R5bGUuZGlzcGxheSA9ICcnO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRmlyZXMgYSBjdXN0b20gZXZlbnQgb24gdGhlIGdpdmVuIHRhcmdldC5cclxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IHRhcmdldCBUaGUgdGFyZ2V0IG9mIHRoZSBldmVudC5cclxuICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRUeXBlIFRoZSBldmVudCB0eXBlLlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudEluZm8gT3B0aW9uYWwgcGFyYW1ldGVyIHRvIHByb3ZpZGUgYWRkaXRpb25hbCBkYXRhXHJcbiAgICogdG8gdGhlIGV2ZW50LlxyXG4gICAqL1xyXG4gIHN0YXRpYyBmaXJlRXZlbnQodGFyZ2V0LCBldmVudFR5cGUsIGV2ZW50SW5mbyA9IHt9KSB7XHJcbiAgICBjb25zdCBldmVudCA9IG5ldyBXU0N1c3RvbUV2ZW50KGV2ZW50VHlwZSwge1xyXG4gICAgICBkZXRhaWw6IGV2ZW50SW5mb1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGFyZ2V0LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ29udmVydHMgYW4gaXRlcmFibGUgdG8gYW4gYXJyYXkuXHJcbiAgICogQHBhcmFtIHsqfSBpdGVyYWJsZSBFbGVtZW50IHRvIGNvbnZlcnQgdG8gYXJyYXlcclxuICAgKiBAcmV0dXJuIHtBcnJheX0gdGhlIGVsZW1lbnQgY2FzdGVkIHRvIGFuIGFycmF5LlxyXG4gICAqL1xyXG4gIHN0YXRpYyB0b0FycmF5KGl0ZXJhYmxlKSB7XHJcbiAgICByZXR1cm4gW10uc2xpY2UuY2FsbChpdGVyYWJsZSk7XHJcbiAgfVxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2pzL3V0aWxzL2RvbS5qcyIsImNvbnN0IEtleXMgPSB7XHJcbiAgRU5URVI6IDEzLFxyXG4gIFNQQUNFOiAzMixcclxuICBSRV9QQUdFOiAzMyxcclxuICBBVl9QQUdFOiAzNCxcclxuICBFTkQ6IDM1LFxyXG4gIEhPTUU6IDM2LFxyXG4gIExFRlQ6IDM3LFxyXG4gIFVQOiAzOCxcclxuICBSSUdIVDogMzksXHJcbiAgRE9XTjogNDBcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IEtleXM7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2pzL3V0aWxzL2tleXMuanMiLCJjb25zdCBVQSA9IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW9iaWxlRGV0ZWN0b3Ige1xyXG4gIC8qKlxyXG4gICAqIFdoZXRoZXIgdGhlIGRldmljZSBpcyBBbmRyb2lkIG9yIG5vdC5cclxuICAgKiBAcmV0dXJuIHtCb29sZWFufVxyXG4gICAqL1xyXG4gIHN0YXRpYyBpc0FuZHJvaWQoKSB7XHJcbiAgICByZXR1cm4gISFVQS5tYXRjaCgvQW5kcm9pZC9pKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFdoZXRoZXIgdGhlIGRldmljZSBpcyBCbGFja0JlcnJ5IG9yIG5vdC5cclxuICAgKiBAcmV0dXJuIHtCb29sZWFufVxyXG4gICAqL1xyXG4gIHN0YXRpYyBpc0JsYWNrQmVycnkoKSB7XHJcbiAgICByZXR1cm4gISFVQS5tYXRjaCgvQmxhY2tCZXJyeS9pKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFdoZXRoZXIgdGhlIGRldmljZSBpcyBpT1Mgb3Igbm90LlxyXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAgICovXHJcbiAgc3RhdGljIGlzaU9TKCkge1xyXG4gICAgcmV0dXJuICEhVUEubWF0Y2goL2lQaG9uZS9pKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFdoZXRoZXIgdGhlIGRldmljZSBpcyBPcGVyYSBvciBub3QuXHJcbiAgICogQHJldHVybiB7Qm9vbGVhbn1cclxuICAgKi9cclxuICBzdGF0aWMgaXNPcGVyYSgpIHtcclxuICAgIHJldHVybiAhIVVBLm1hdGNoKC9PcGVyYSBNaW5pL2kpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogV2hldGhlciB0aGUgZGV2aWNlIGlzIFdpbmRvd3Mgb3Igbm90LlxyXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAgICovXHJcbiAgc3RhdGljIGlzV2luZG93cygpIHtcclxuICAgIHJldHVybiAhIVVBLm1hdGNoKC9JRU1vYmlsZS9pKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFdoZXRoZXIgdGhlIGRldmljZSBpcyBXaW5kb3dzIFBob25lIG9yIG5vdC5cclxuICAgKiBAcmV0dXJuIHtCb29sZWFufVxyXG4gICAqL1xyXG4gIHN0YXRpYyBpc1dpbmRvd3NQaG9uZSgpIHtcclxuICAgIHJldHVybiAhIVVBLm1hdGNoKC9XaW5kb3dzIFBob25lL2kpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogV2hldGhlciB0aGUgZGV2aWNlIGlzIGFueSBtb2JpbGUgZGV2aWNlIG9yIG5vdC5cclxuICAgKiBAcmV0dXJuIHtCb29sZWFufVxyXG4gICAqL1xyXG4gIHN0YXRpYyBpc0FueSgpIHtcclxuICAgIHJldHVybiBNb2JpbGVEZXRlY3Rvci5pc0FuZHJvaWQoKSB8fFxyXG4gICAgTW9iaWxlRGV0ZWN0b3IuaXNCbGFja0JlcnJ5KCkgfHxcclxuICAgIE1vYmlsZURldGVjdG9yLmlzaU9TKCkgfHxcclxuICAgIE1vYmlsZURldGVjdG9yLmlzT3BlcmEoKSB8fFxyXG4gICAgTW9iaWxlRGV0ZWN0b3IuaXNXaW5kb3dzKCkgfHxcclxuICAgIE1vYmlsZURldGVjdG9yLmlzV2luZG93c1Bob25lKCk7XHJcbiAgfVxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2pzL3V0aWxzL21vYmlsZS1kZXRlY3Rvci5qcyIsImltcG9ydCBQbHVnaW5zIGZyb20gJy4uL3BsdWdpbnMvcGx1Z2lucyc7XHJcbmltcG9ydCBTbGlkZSBmcm9tICcuL3NsaWRlJztcclxuaW1wb3J0IERPTSBmcm9tICcuLi91dGlscy9kb20nO1xyXG5pbXBvcnQgc2Nyb2xsVG8gZnJvbSAnLi4vdXRpbHMvc2Nyb2xsLXRvJztcclxuXHJcbmNvbnN0IENMQVNTRVMgPSB7XHJcbiAgVkVSVElDQUw6ICd2ZXJ0aWNhbCdcclxufTtcclxuXHJcbi8vIERlZmF1bHQgcGx1Z2luc1xyXG5jb25zdCBQTFVHSU5TID0ge1xyXG4gICdjbGlja05hdic6IFBsdWdpbnMuQ2xpY2tOYXYsXHJcbiAgJ2dyaWQnOiBQbHVnaW5zLkdyaWQsXHJcbiAgJ2hhc2gnOiBQbHVnaW5zLkhhc2gsXHJcbiAgJ2tleWJvYXJkJzogUGx1Z2lucy5LZXlib2FyZCxcclxuICAnbmF2JzogUGx1Z2lucy5OYXZpZ2F0aW9uLFxyXG4gICdzY3JvbGwnOiBQbHVnaW5zLlNjcm9sbCxcclxuICAndG91Y2gnOiBQbHVnaW5zLlRvdWNoXHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXZWJTbGlkZXMge1xyXG4gIC8qKlxyXG4gICAqIE9wdGlvbnMgZm9yIFdlYlNsaWRlc1xyXG4gICAqIEBwYXJhbSB7bnVtYmVyfGJvb2xlYW59IGF1dG9zbGlkZSBJZiBhIG51bWJlciBpcyBwcm92aWRlZCwgaXQgd2lsbCBhbGxvd1xyXG4gICAqIGF1dG9zbGlkaW5nIGJ5IHNhaWQgYW1vdW50IG9mIG1pbGlzZWNvbmRzLlxyXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2hhbmdlT25DbGljayBJZiB0cnVlLCBpdCB3aWxsIGFsbG93XHJcbiAgICogY2xpY2tpbmcgb24gYW55IHBsYWNlIHRvIGNoYW5nZSB0aGUgc2xpZGUuXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IG1pbldoZWVsRGVsdGEgQ29udHJvbHMgdGhlIGFtb3VudCBvZiBuZWVkZWQgc2Nyb2xsIHRvXHJcbiAgICogdHJpZ2dlciBuYXZpZ2F0aW9uLlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzY3JvbGxXYWl0IENvbnRyb2xzIHRoZSBhbW91bnQgb2YgdGltZSB0byB3YWl0IHRpbGxcclxuICAgKiBuYXZpZ2F0aW9uIGNhbiBvY2N1ciBhZ2FpbiB3aXRoIHNjcm9sbC5cclxuICAgKiBAcGFyYW0ge251bWJlcn0gc2xpZGVPZmZzZXQgQ29udHJvbHMgdGhlIGFtb3VudCBvZiBuZWVkZWQgdG91Y2ggZGVsdGEgdG9cclxuICAgKiB0cmlnZ2VyIG5hdmlnYXRpb24uXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Ioe1xyXG4gICAgYXV0b3NsaWRlID0gZmFsc2UsXHJcbiAgICBjaGFuZ2VPbkNsaWNrID0gZmFsc2UsXHJcbiAgICBtaW5XaGVlbERlbHRhID0gNDAsXHJcbiAgICBzY3JvbGxXYWl0ID0gNDUwLFxyXG4gICAgc2xpZGVPZmZzZXQgPSA1MFxyXG4gIH0gPSB7fSkge1xyXG4gICAgLyoqXHJcbiAgICAgKiBXZWJTbGlkZSBlbGVtZW50LlxyXG4gICAgICogQHR5cGUge0VsZW1lbnR9XHJcbiAgICAgKi9cclxuICAgIHRoaXMuZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2Vic2xpZGVzJyk7XHJcbiAgICAvKipcclxuICAgICAqIE1vdmluZyBmbGFnLlxyXG4gICAgICogQHR5cGUge2Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIHRoaXMuaXNNb3ZpbmcgPSBmYWxzZTtcclxuICAgIC8qKlxyXG4gICAgICogU2xpZGUncyBhcnJheS5cclxuICAgICAqIEB0eXBlIHs/QXJyYXk8U2xpZGU+fVxyXG4gICAgICovXHJcbiAgICB0aGlzLnNsaWRlcyA9IG51bGw7XHJcbiAgICAvKipcclxuICAgICAqIEN1cnJlbnQgc2xpZGUncyBpbmRleC5cclxuICAgICAqIEB0eXBlIHtudW1iZXJ9XHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXHJcbiAgICB0aGlzLmN1cnJlbnRTbGlkZUlfID0gLTE7XHJcbiAgICAvKipcclxuICAgICAqIEN1cnJlbnQgc2xpZGUgcmVmZXJlbmNlLlxyXG4gICAgICogQHR5cGUgez9TbGlkZX1cclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIHRoaXMuY3VycmVudFNsaWRlXyA9IG51bGw7XHJcbiAgICAvKipcclxuICAgICAqIE1heCBzbGlkZSBpbmRleC5cclxuICAgICAqIEB0eXBlIHtudW1iZXJ9XHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXHJcbiAgICB0aGlzLm1heFNsaWRlXyA9IDA7XHJcbiAgICAvKipcclxuICAgICAqIFdoZXRoZXIgdGhlIGxheW91dCBpcyBnb2luZyB0byBiZSB2ZXJ0aWNhbCBvciBob3Jpem9udGFsLlxyXG4gICAgICogQHR5cGUge2Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIHRoaXMuaXNWZXJ0aWNhbCA9IHRoaXMuZWwuY2xhc3NMaXN0LmNvbnRhaW5zKENMQVNTRVMuVkVSVElDQUwpO1xyXG4gICAgLyoqXHJcbiAgICAgKiBQbHVnaW4ncyBkaWN0aW9uYXJ5LlxyXG4gICAgICogQHR5cGUge09iamVjdH1cclxuICAgICAqL1xyXG4gICAgdGhpcy5wbHVnaW5zID0ge307XHJcbiAgICAvKipcclxuICAgICAqIEludGVydmFsIElEIHJlZmVyZW5jZSBmb3IgdGhlIGF1dG9zbGlkZS5cclxuICAgICAqIEB0eXBlIHs/bnVtYmVyfVxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xyXG4gICAgdGhpcy5pbnRlcnZhbF8gPSBudWxsO1xyXG4gICAgLyoqXHJcbiAgICAgKiBPcHRpb25zIGRpY3Rpb25hcnkuXHJcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxyXG4gICAgICovXHJcbiAgICB0aGlzLm9wdGlvbnMgPSB7XHJcbiAgICAgIGF1dG9zbGlkZSxcclxuICAgICAgY2hhbmdlT25DbGljayxcclxuICAgICAgbWluV2hlZWxEZWx0YSxcclxuICAgICAgc2Nyb2xsV2FpdCxcclxuICAgICAgc2xpZGVPZmZzZXRcclxuICAgIH07XHJcblxyXG4gICAgaWYgKCF0aGlzLmVsKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ291bGRuXFwndCBmaW5kIHRoZSB3ZWJzbGlkZXMgY29udGFpbmVyIScpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEJvb3RzdHJhcHBpbmdcclxuICAgIHRoaXMucmVtb3ZlQ2hpbGRyZW5fKCk7XHJcbiAgICB0aGlzLmdyYWJTbGlkZXNfKCk7XHJcbiAgICB0aGlzLmNyZWF0ZVBsdWdpbnNfKCk7XHJcbiAgICB0aGlzLmluaXRTbGlkZXNfKCk7XHJcbiAgICB0aGlzLnBsYXkoKTtcclxuICAgIC8vIEZpbmlzaGVkXHJcbiAgICB0aGlzLm9uSW5pdF8oKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlbW92ZXMgYWxsIGNoaWxkcmVuIGVsZW1lbnRzIGluc2lkZSBvZiB0aGUgbWFpbiBjb250YWluZXIgdGhhdCBhcmUgbm90XHJcbiAgICogZWxpZ2libGUgdG8gYmUgYSBTbGlkZSBFbGVtZW50LlxyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgcmVtb3ZlQ2hpbGRyZW5fKCkge1xyXG4gICAgY29uc3Qgbm9kZXMgPSB0aGlzLmVsLmNoaWxkTm9kZXM7XHJcbiAgICBsZXQgaSA9IG5vZGVzLmxlbmd0aDtcclxuXHJcbiAgICB3aGlsZSAoaS0tKSB7XHJcbiAgICAgIGNvbnN0IG5vZGUgPSBub2Rlc1tpXTtcclxuXHJcbiAgICAgIGlmICghU2xpZGUuaXNDYW5kaWRhdGUobm9kZSkpIHtcclxuICAgICAgICB0aGlzLmVsLnJlbW92ZUNoaWxkKG5vZGUpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDcmVhdGVzIGFsbCB0aGUgcmVnaXN0ZXJlZCBwbHVnaW5zIGFuZCBzdG9yZSB0aGUgaW5zdGFuY2VzIGluc2lkZSBvZiB0aGVcclxuICAgKiB0aGUgd2Vic2xpZGUgaW5zdGFuY2UuXHJcbiAgICogQHByaXZhdGVcclxuICAgKi9cclxuICBjcmVhdGVQbHVnaW5zXygpIHtcclxuICAgIE9iamVjdC5rZXlzKFBMVUdJTlMpLmZvckVhY2gocGx1Z2luTmFtZSA9PiB7XHJcbiAgICAgIGNvbnN0IHBsdWdpbkN0byA9IFBMVUdJTlNbcGx1Z2luTmFtZV07XHJcbiAgICAgIHRoaXMucGx1Z2luc1twbHVnaW5OYW1lXSA9IG5ldyBwbHVnaW5DdG8odGhpcyk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENhbGxlZCBvbmNlIHRoZSBXZWJTbGlkZSBpbnN0YW5jZSBoYXMgZmluaXNoZWQgaW5pdGlhbGlzaW5nLlxyXG4gICAqIEBwcml2YXRlXHJcbiAgICogQGZpcmVzIFdlYlNsaWRlI3dzOmluaXRcclxuICAgKi9cclxuICBvbkluaXRfKCkge1xyXG4gICAgRE9NLmZpcmVFdmVudCh0aGlzLmVsLCAnd3M6aW5pdCcpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR3JhYnMgdGhlIHNsaWRlcyBmcm9tIHRoZSBET00gYW5kIGNyZWF0ZXMgYWxsIHRoZSBTbGlkZXMgbW9kdWxlcy5cclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIGdyYWJTbGlkZXNfKCkge1xyXG4gICAgdGhpcy5zbGlkZXMgPSBET00udG9BcnJheSh0aGlzLmVsLmNoaWxkTm9kZXMpXHJcbiAgICAgICAgLm1hcCgoc2xpZGUsIGkpID0+IG5ldyBTbGlkZShzbGlkZSwgaSkpO1xyXG5cclxuICAgIHRoaXMubWF4U2xpZGVfID0gdGhpcy5zbGlkZXMubGVuZ3RoO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR29lcyB0byBhIGdpdmVuIHNsaWRlLlxyXG4gICAqIEBwYXJhbSB7IW51bWJlcn0gc2xpZGVJIFRoZSBzbGlkZSBpbmRleC5cclxuICAgKiBAcGFyYW0gez9ib29sZWFufSBmb3J3YXJkIFdoZXRoZXIgd2UncmUgZm9yY2luZyBtb3ZpbmcgZm9yd2FyZC9iYWNrd2FyZHMuXHJcbiAgICogVGhpcyBwYXJhbWV0ZXIgaXMgdXNlZCBvbmx5IGZyb20gdGhlIGdvTmV4dCwgZ29QcmV2IGZ1bmN0aW9ucyB0byBhZGp1c3QgdGhlXHJcbiAgICogc2Nyb2xsIGFuaW1hdGlvbnMuXHJcbiAgICovXHJcbiAgZ29Ub1NsaWRlKHNsaWRlSSwgZm9yd2FyZCA9IG51bGwpIHtcclxuICAgIGlmICh0aGlzLmlzVmFsaWRJbmRleFNsaWRlXyhzbGlkZUkpICYmXHJcbiAgICAgICAgIXRoaXMuaXNNb3ZpbmcgJiZcclxuICAgICAgICB0aGlzLmN1cnJlbnRTbGlkZUlfICE9PSBzbGlkZUkpIHtcclxuICAgICAgdGhpcy5pc01vdmluZyA9IHRydWU7XHJcbiAgICAgIGxldCBpc01vdmluZ0ZvcndhcmQgPSBmYWxzZTtcclxuXHJcbiAgICAgIGlmIChmb3J3YXJkICE9PSBudWxsKSB7XHJcbiAgICAgICAgaXNNb3ZpbmdGb3J3YXJkID0gZm9yd2FyZDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpZiAodGhpcy5jdXJyZW50U2xpZGVJXyA+PSAwKSB7XHJcbiAgICAgICAgICBpc01vdmluZ0ZvcndhcmQgPSBzbGlkZUkgPiB0aGlzLmN1cnJlbnRTbGlkZUlfO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBjb25zdCBuZXh0U2xpZGUgPSB0aGlzLnNsaWRlc1tzbGlkZUldO1xyXG5cclxuICAgICAgaWYgKHRoaXMuY3VycmVudFNsaWRlXyAhPT0gbnVsbCAmJiB0aGlzLmlzVmVydGljYWwgJiZcclxuICAgICAgICAoIXRoaXMucGx1Z2lucy50b3VjaCB8fCAhdGhpcy5wbHVnaW5zLnRvdWNoLmlzRW5hYmxlZCkpIHtcclxuICAgICAgICB0aGlzLnNjcm9sbFRyYW5zaXRpb25Ub1NsaWRlXyhcclxuICAgICAgICAgICAgaXNNb3ZpbmdGb3J3YXJkLCBuZXh0U2xpZGUsIHRoaXMub25TbGlkZUNoYW5nZV8pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMudHJhbnNpdGlvblRvU2xpZGVfKFxyXG4gICAgICAgICAgICBpc01vdmluZ0ZvcndhcmQsIG5leHRTbGlkZSwgdGhpcy5vblNsaWRlQ2hhbmdlXyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFRyYW5zaXRpb25zIHRvIGEgc2xpZGUsIGRvaW5nIHRoZSBzY3JvbGwgYW5pbWF0aW9uLlxyXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNNb3ZpbmdGb3J3YXJkIFdoZXRoZXIgd2UncmUgZ29pbmcgZm9yd2FyZCBvciBiYWNrd2FyZHMuXHJcbiAgICogQHBhcmFtIHtTbGlkZX0gbmV4dFNsaWRlIE5leHQgc2xpZGUuXHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGJhY2sgdG8gYmUgY2FsbGVkIHVwb24gZmluaXNoaW5nLiBUaGlzIGlzIGFuXHJcbiAgICogYXN5bmMgZnVuY3Rpb24gc28gaXQnbGwgaGFwcGVuIG9uY2UgdGhlIHNjcm9sbCBhbmltYXRpb24gZmluaXNoZXMuXHJcbiAgICogQHByaXZhdGVcclxuICAgKiBAc2VlIHNjcm9sbFRvXHJcbiAgICovXHJcbiAgc2Nyb2xsVHJhbnNpdGlvblRvU2xpZGVfKGlzTW92aW5nRm9yd2FyZCwgbmV4dFNsaWRlLCBjYWxsYmFjaykge1xyXG4gICAgdGhpcy5lbC5zdHlsZS5vdmVyZmxvdyA9ICdub25lJztcclxuXHJcbiAgICBpZiAoIWlzTW92aW5nRm9yd2FyZCkge1xyXG4gICAgICBuZXh0U2xpZGUubW92ZUJlZm9yZUZpcnN0KCk7XHJcbiAgICAgIG5leHRTbGlkZS5zaG93KCk7XHJcbiAgICAgIHNjcm9sbFRvKHRoaXMuY3VycmVudFNsaWRlXy5lbC5vZmZzZXRUb3AsIDApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbmV4dFNsaWRlLnNob3coKTtcclxuICAgIH1cclxuXHJcbiAgICBzY3JvbGxUbyhuZXh0U2xpZGUuZWwub2Zmc2V0VG9wLCA1MDAsICgpID0+IHtcclxuICAgICAgdGhpcy5jdXJyZW50U2xpZGVfLmhpZGUoKTtcclxuXHJcbiAgICAgIGlmIChpc01vdmluZ0ZvcndhcmQpIHtcclxuICAgICAgICB0aGlzLmN1cnJlbnRTbGlkZV8ubW92ZUFmdGVyTGFzdCgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLmVsLnN0eWxlLm92ZXJmbG93ID0gJ2F1dG8nO1xyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHsgY2FsbGJhY2suY2FsbCh0aGlzLCBuZXh0U2xpZGUpOyB9LCAxNTApO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBUcmFuc2l0aW9ucyB0byBhIHNsaWRlLCB3aXRob3V0IGRvaW5nIHRoZSBzY3JvbGwgYW5pbWF0aW9uLlxyXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNNb3ZpbmdGb3J3YXJkIFdoZXRoZXIgd2UncmUgZ29pbmcgZm9yd2FyZCBvciBiYWNrd2FyZHMuXHJcbiAgICogQHBhcmFtIHtTbGlkZX0gbmV4dFNsaWRlIE5leHQgc2xpZGUuXHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGJhY2sgdG8gYmUgY2FsbGVkIHVwb24gZmluaXNoaW5nLiBUaGlzIGlzIGFcclxuICAgKiBzeW5jIGZ1bmN0aW9uIHNvIGl0J2xsIGhhcHBlbiBvbiBydW4gdGltZS5cclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIHRyYW5zaXRpb25Ub1NsaWRlXyhpc01vdmluZ0ZvcndhcmQsIG5leHRTbGlkZSwgY2FsbGJhY2spIHtcclxuICAgIHNjcm9sbFRvKDAsIDApO1xyXG5cclxuICAgIGlmICghaXNNb3ZpbmdGb3J3YXJkKSB7XHJcbiAgICAgIG5leHRTbGlkZS5tb3ZlQmVmb3JlRmlyc3QoKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodGhpcy5jdXJyZW50U2xpZGVfKSB7XHJcbiAgICAgIGlmIChpc01vdmluZ0ZvcndhcmQpIHtcclxuICAgICAgICB0aGlzLmN1cnJlbnRTbGlkZV8ubW92ZUFmdGVyTGFzdCgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLmN1cnJlbnRTbGlkZV8uaGlkZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIG5leHRTbGlkZS5zaG93KCk7XHJcbiAgICBjYWxsYmFjay5jYWxsKHRoaXMsIG5leHRTbGlkZSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBXaGVuZXZlciBhIHNsaWRlIGlzIGNoYW5nZWQsIHRoaXMgZnVuY3Rpb24gZ2V0cyBjYWxsZWQuIEl0IHVwZGF0ZXMgdGhlXHJcbiAgICogcmVmZXJlbmNlcyB0byB0aGUgY3VycmVudCBzbGlkZSwgZGlzYWJsZXMgdGhlIG1vdmluZyBmbGFnIGFuZCBmaXJlc1xyXG4gICAqIGEgY3VzdG9tIGV2ZW50LlxyXG4gICAqIEBwYXJhbSB7U2xpZGV9IHNsaWRlIFRoZSBzbGlkZSB3ZSdyZSB0cmFuc2l0aW9uaW5nIHRvLlxyXG4gICAqIEBmaXJlcyBXZWJTbGlkZSN3czpzbGlkZS1jaGFuZ2VcclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIG9uU2xpZGVDaGFuZ2VfKHNsaWRlKSB7XHJcbiAgICB0aGlzLmN1cnJlbnRTbGlkZV8gPSBzbGlkZTtcclxuICAgIHRoaXMuY3VycmVudFNsaWRlSV8gPSBzbGlkZS5pO1xyXG4gICAgdGhpcy5pc01vdmluZyA9IGZhbHNlO1xyXG5cclxuICAgIERPTS5maXJlRXZlbnQodGhpcy5lbCwgJ3dzOnNsaWRlLWNoYW5nZScsIHtcclxuICAgICAgc2xpZGVzOiB0aGlzLm1heFNsaWRlXyxcclxuICAgICAgY3VycmVudFNsaWRlMDogdGhpcy5jdXJyZW50U2xpZGVJXyxcclxuICAgICAgY3VycmVudFNsaWRlOiB0aGlzLmN1cnJlbnRTbGlkZUlfICsgMVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHb2VzIHRvIHRoZSBuZXh0IHNsaWRlLlxyXG4gICAqL1xyXG4gIGdvTmV4dCgpIHtcclxuICAgIGxldCBuZXh0SW5kZXggPSB0aGlzLmN1cnJlbnRTbGlkZUlfICsgMTtcclxuXHJcbiAgICBpZiAobmV4dEluZGV4ID49IHRoaXMubWF4U2xpZGVfKSB7XHJcbiAgICAgIG5leHRJbmRleCA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5nb1RvU2xpZGUobmV4dEluZGV4LCB0cnVlKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdvZXMgdG8gdGhlIHByZXZpb3VzIHNsaWRlLlxyXG4gICAqL1xyXG4gIGdvUHJldigpIHtcclxuICAgIGxldCBwcmV2SW5kZXggPSB0aGlzLmN1cnJlbnRTbGlkZUlfIC0gMTtcclxuXHJcbiAgICBpZiAocHJldkluZGV4IDwgMCkge1xyXG4gICAgICBwcmV2SW5kZXggPSB0aGlzLm1heFNsaWRlXyAtIDE7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5nb1RvU2xpZGUocHJldkluZGV4LCBmYWxzZSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDaGVjayBpZiB0aGUgZ2l2ZW4gbnVtYmVyIGlzIGEgdmFsaWQgaW5kZXggdG8gZ28gdG8uXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IGkgVGhlIGluZGV4IHRvIGNoZWNrLlxyXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgeW91IGNhbiBtb3ZlIHRvIHRoYXQgc2xpZGUgb3Igbm90LlxyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgaXNWYWxpZEluZGV4U2xpZGVfKGkpIHtcclxuICAgIHJldHVybiBpID49IDAgJiYgaSA8IHRoaXMubWF4U2xpZGVfO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSW5pdCB0aGUgc2hvd24gc2xpZGUgb24gbG9hZC4gSXQnbGwgZmV0Y2ggaXQgZnJvbSB0aGUgSGFzaCBpZiBwcmVzZW50XHJcbiAgICogYW5kLCBvdGhlcndpc2UsIGl0J2xsIGRlZmF1bHQgdG8gdGhlIGZpcnN0IG9uZS5cclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqIEBzZWUgSGFzaC5nZXRTbGlkZU51bWJlclxyXG4gICAqL1xyXG4gIGluaXRTbGlkZXNfKCkge1xyXG4gICAgbGV0IHNsaWRlTnVtYmVyID0gdGhpcy5wbHVnaW5zLmhhc2guY29uc3RydWN0b3IuZ2V0U2xpZGVOdW1iZXIoKTtcclxuXHJcbiAgICAvLyBOb3QgdmFsaWRcclxuICAgIGlmIChzbGlkZU51bWJlciA9PT0gbnVsbCB8fFxyXG4gICAgICAgIHNsaWRlTnVtYmVyID49IHRoaXMubWF4U2xpZGVfKSB7XHJcbiAgICAgIHNsaWRlTnVtYmVyID0gMDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBLZWVwaW5nIHRoZSBvcmRlclxyXG4gICAgaWYgKHNsaWRlTnVtYmVyICE9PSAwKSB7XHJcbiAgICAgIGxldCBpID0gMDtcclxuICAgICAgd2hpbGUoaSA8IHNsaWRlTnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5zbGlkZXNbaV0ubW92ZUFmdGVyTGFzdCgpO1xyXG4gICAgICAgIGkrKztcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZ29Ub1NsaWRlKHNsaWRlTnVtYmVyKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlZ2lzdGVycyBhIHBsdWdpbiB0byBiZSBsb2FkZWQgd2hlbiB0aGUgaW5zdGFuY2UgaXMgY3JlYXRlZC4gSXQgYWxsb3dzXHJcbiAgICogKG9uIHB1cnBvc2UpIHRvIHJlcGxhY2UgZGVmYXVsdCBwbHVnaW5zLlxyXG4gICAqIFRob3NlIGJlaW5nOlxyXG4gICAqICAtIE5hdmlnYXRpb25cclxuICAgKiAgLSBIYXNoXHJcbiAgICogIC0gS2V5Ym9hcmRcclxuICAgKiBAcGFyYW0geyFzdHJpbmd9IGtleSBUaGV5IGtleSB1bmRlciB3aGljaCBpdCdsbCBiZSBzdG9yZWQgaW5zaWRlIG9mIHRoZVxyXG4gICAqIGluc3RhbmNlLCBpbnNpZGUgdGhlIHBsdWdpbnMgZGljdC5cclxuICAgKiBAcGFyYW0geyFGdW5jdGlvbn0gY3RvIFBsdWdpbiBjb25zdHJ1Y3Rvci5cclxuICAgKi9cclxuICBzdGF0aWMgcmVnaXN0ZXJQbHVnaW4oa2V5LCBjdG8pIHtcclxuICAgIFBMVUdJTlNba2V5XSA9IGN0bztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFN0YXJ0cyBhdXRvc2xpZGluZyBhbGwgdGhlIHNsaWRlcyBpZiBpdCdzIG5vdCBjdXJyZW50bHkgZG9pbmcgaXQgYW5kIHRoZVxyXG4gICAqIGF1dG9zbGlkZSBvcHRpb24gd2FzIGEgbnVtYmVyIGdyZWF0ZXIgdGhhbiAwLlxyXG4gICAqIEBwYXJhbSB7P251bWJlcn0gdGltZSBBbW91bnQgb2YgbWlsbGlzZWNvbmRzIHRvIHdhaXQgdG8gZ28gdG8gbmV4dCBzbGlkZVxyXG4gICAqIGF1dG9tYXRpY2FsbHkuXHJcbiAgICovXHJcbiAgcGxheSh0aW1lKSB7XHJcbiAgICB0aW1lID0gdGltZSB8fCB0aGlzLm9wdGlvbnMuYXV0b3NsaWRlO1xyXG5cclxuICAgIGlmICghdGhpcy5pbnRlcnZhbF8gJiYgdHlwZW9mIHRpbWUgPT09ICdudW1iZXInICYmIHRpbWUgPiAwKSB7XHJcbiAgICAgIHRoaXMuaW50ZXJ2YWxfID0gc2V0SW50ZXJ2YWwodGhpcy5nb05leHQuYmluZCh0aGlzKSwgdGltZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTdG9wcyBhdXRvc2xpZGluZyBhbGwgdGhlIHNsaWRlcy5cclxuICAgKi9cclxuICBzdG9wKCkge1xyXG4gICAgaWYgKHRoaXMuaW50ZXJ2YWxfKSB7XHJcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbF8pO1xyXG4gICAgICB0aGlzLmludGVydmFsXyA9IG51bGw7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2pzL21vZHVsZXMvd2Vic2xpZGVzLmpzIiwiaW1wb3J0IERPTSBmcm9tICcuLi91dGlscy9kb20nO1xyXG5cclxuY29uc3QgQ0xBU1NFUyA9IHtcclxuICBTTElERTogJ3NsaWRlJyxcclxuICBDVVJSRU5UOiAnY3VycmVudCdcclxufTtcclxuXHJcbi8qKlxyXG4gKiBXcmFwcGVyIGZvciB0aGUgU2xpZGUgc2VjdGlvbi5cclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNsaWRlIHtcclxuICAvKipcclxuICAgKiBCb290c3RyYXBzIHRoZSBzbGlkZSBieSBzYXZpbmcgc29tZSBkYXRhLCBhZGRpbmcgYSBjbGFzcyBhbmQgaGlkaW5nIGl0LlxyXG4gICAqIEBwYXJhbSB7RWxlbWVudH0gZWwgU2VjdGlvbiBlbGVtZW50LlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpIFplcm8gYmFzZWQgaW5kZXggb2YgdGhlIHNsaWRlLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKGVsLCBpKSB7XHJcbiAgICAvKipcclxuICAgICAqIEB0eXBlIHtFbGVtZW50fVxyXG4gICAgICovXHJcbiAgICB0aGlzLmVsID0gZWw7XHJcbiAgICAvKipcclxuICAgICAqIFRoZSBzZWN0aW9uJ3MgcGFyZW50LlxyXG4gICAgICogQHR5cGUge05vZGV9XHJcbiAgICAgKi9cclxuICAgIHRoaXMucGFyZW50ID0gZWwucGFyZW50Tm9kZTtcclxuICAgIC8qKlxyXG4gICAgICogQHR5cGUge251bWJlcn1cclxuICAgICAqL1xyXG4gICAgdGhpcy5pID0gaTtcclxuXHJcbiAgICB0aGlzLmVsLmlkID0gJ3NlY3Rpb24tJyArIChpICsgMSk7XHJcbiAgICB0aGlzLmVsLmNsYXNzTGlzdC5hZGQoQ0xBU1NFUy5TTElERSk7XHJcblxyXG4gICAgLy8gSGlkZSBzbGlkZXMgYnkgZGVmYXVsdFxyXG4gICAgdGhpcy5oaWRlKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBIaWRlcyB0aGUgbm9kZSBhbmQgcmVtb3ZlcyB0aGUgY2xhc3MgdGhhdCBtYWtlcyBpdCBcImFjdGl2ZVwiLlxyXG4gICAqL1xyXG4gIGhpZGUoKSB7XHJcbiAgICBET00uaGlkZSh0aGlzLmVsKTtcclxuICAgIHRoaXMuZWwuY2xhc3NMaXN0LnJlbW92ZShDTEFTU0VTLkNVUlJFTlQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2hvd3MgdGhlIG5vZGUgYW5kIGFkZHMgdGhlIGNsYXNzIHRoYXQgbWFrZXMgaXQgXCJhY3RpdmVcIi5cclxuICAgKi9cclxuICBzaG93KCkge1xyXG4gICAgRE9NLnNob3codGhpcy5lbCk7XHJcbiAgICB0aGlzLmVsLmNsYXNzTGlzdC5hZGQoQ0xBU1NFUy5DVVJSRU5UKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE1vdmVzIHRoZSBzZWN0aW9uIHRvIHRoZSBib3R0b20gb2YgdGhlIHNlY3Rpb24ncyBsaXN0LlxyXG4gICAqL1xyXG4gIG1vdmVBZnRlckxhc3QoKSB7XHJcbiAgICBjb25zdCBsYXN0ID0gdGhpcy5wYXJlbnQuY2hpbGROb2Rlc1t0aGlzLnBhcmVudC5jaGlsZEVsZW1lbnRDb3VudCAtIDFdO1xyXG5cclxuICAgIHRoaXMucGFyZW50Lmluc2VydEJlZm9yZSh0aGlzLmVsLCBsYXN0Lm5leHRTaWJsaW5nKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE1vdmVzIHRoZSBzZWN0aW9uIHRvIHRoZSB0b3Agb2YgdGhlIHNlY3Rpb24ncyBsaXN0LlxyXG4gICAqL1xyXG4gIG1vdmVCZWZvcmVGaXJzdCgpIHtcclxuICAgIGNvbnN0IGZpcnN0ID0gdGhpcy5wYXJlbnQuY2hpbGROb2Rlc1swXTtcclxuXHJcbiAgICB0aGlzLnBhcmVudC5pbnNlcnRCZWZvcmUodGhpcy5lbCwgZmlyc3QpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2hlY2tzIHdoZXRoZXIgYW4gZWxlbWVudCBpcyBhIHZhbGlkIGNhbmRpZGF0ZSB0byBiZSBhIHNsaWRlIGJ5IGVuc3VyaW5nXHJcbiAgICogaXQncyBhIFwic2VjdGlvblwiIGVsZW1lbnQuXHJcbiAgICogQHBhcmFtIHtFbGVtZW50fSBlbCBFbGVtZW50IHRvIGJlIGNoZWNrZWQuXHJcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciBpcyBjYW5kaWRhdGUgb3Igbm90LlxyXG4gICAqL1xyXG4gIHN0YXRpYyBpc0NhbmRpZGF0ZShlbCkge1xyXG4gICAgcmV0dXJuIGVsLm5vZGVUeXBlID09PSAxICYmIGVsLnRhZ05hbWUgPT09ICdTRUNUSU9OJztcclxuICB9XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vanMvbW9kdWxlcy9zbGlkZS5qcyIsImNvbnN0IENMSUNLQUJMRV9FTFMgPSBbXHJcbiAgJ0lOUFVUJyxcclxuICAnU0VMRUNUJyxcclxuICAnT1BUSU9OJyxcclxuICAnQlVUVE9OJyxcclxuICAnQScsXHJcbiAgJ1RFWFRBUkVBJ1xyXG5dO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2xpY2tOYXYge1xyXG4gIC8qKlxyXG4gICAqIENsaWNrTmF2IHBsdWdpbiB0aGF0IGFsbG93cyB0byBjbGljayBvbiB0aGUgcGFnZSB0byBnZXQgdG8gdGhlIG5leHQgc2xpZGUuXHJcbiAgICogQHBhcmFtIHtXZWJTbGlkZXN9IHdzSW5zdGFuY2UgVGhlIFdlYlNsaWRlcyBpbnN0YW5jZVxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHdzSW5zdGFuY2UpIHtcclxuICAgIC8qKlxyXG4gICAgICogQHR5cGUge1dlYlNsaWRlc31cclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIHRoaXMud3NfID0gd3NJbnN0YW5jZTtcclxuXHJcbiAgICBpZiAod3NJbnN0YW5jZS5vcHRpb25zLmNoYW5nZU9uQ2xpY2spIHtcclxuICAgICAgdGhpcy53c18uZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uQ2xpY2tfLmJpbmQodGhpcykpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVhY3RzIHRvIHRoZSBjbGljayBldmVudC4gSXQgd2lsbCBnbyB0byB0aGUgbmV4dCBzbGlkZSB1bmxlc3MgdGhlIGVsZW1lbnRcclxuICAgKiBoYXMgYSBkYXRhLXByZXZlbnQtbmF2IGF0dHJpYnV0ZSBvciBpcyBvbiB0aGUgbGlzdCBvZiBDTElDS0FCTEVfRUxTLlxyXG4gICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZXZlbnQgVGhlIGNsaWNrIGV2ZW50LlxyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgb25DbGlja18oZXZlbnQpIHtcclxuICAgIGlmIChDTElDS0FCTEVfRUxTLmluZGV4T2YoZXZlbnQudGFyZ2V0LnRhZ05hbWUpIDwgMCAmJlxyXG4gICAgICB0eXBlb2YgZXZlbnQudGFyZ2V0LmRhdGFzZXQucHJldmVudE5hdiA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgdGhpcy53c18uZ29OZXh0KCk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2pzL3BsdWdpbnMvY2xpY2stbmF2LmpzIiwiaW1wb3J0IEtleXMgZnJvbSAnLi4vdXRpbHMva2V5cyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHcmlkIHtcclxuICAvKipcclxuICAgKiBHcmlkIHBsdWdpbiB0aGF0IHNob3dzIGEgZ3JpZCBvbiB0b3Agb2YgdGhlIFdlYlNsaWRlcyBmb3IgZWFzeSBwcm90b3R5cGluZy5cclxuICAgKiBAcGFyYW0ge1dlYlNsaWRlc30gd3NJbnN0YW5jZSBUaGUgV2ViU2xpZGVzIGluc3RhbmNlXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Iod3NJbnN0YW5jZSkge1xyXG4gICAgLyoqXHJcbiAgICAgKiBAdHlwZSB7V2ViU2xpZGVzfVxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xyXG4gICAgdGhpcy53c18gPSB3c0luc3RhbmNlO1xyXG5cclxuICAgIGNvbnN0IENTUyA9IGBib2R5LmJhc2VsaW5lIHtcclxuICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogdXJsKC4uL2ltYWdlcy9iYXNlbGluZS5wbmcpIGxlZnQgdG9wIC44cmVtLy44cmVtO1xyXG4gICAgICAgICAgICAgICAgfWA7XHJcbiAgICBjb25zdCBoZWFkID0gZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdO1xyXG4gICAgY29uc3Qgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xyXG5cclxuICAgIHN0eWxlLnR5cGUgPSAndGV4dC9jc3MnO1xyXG5cclxuICAgIGlmIChzdHlsZS5zdHlsZVNoZWV0KXtcclxuICAgICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gQ1NTO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoQ1NTKSk7XHJcbiAgICB9XHJcblxyXG4gICAgaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XHJcblxyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMub25LZXlQcmVzc18uYmluZCh0aGlzKSwgZmFsc2UpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVhY3RzIHRvIHRoZSBrZXlkb3duIGV2ZW50LiBJdCByZWFjdHMgdG8gRU5URVIga2V5IHRvIHRvZ2dsZSB0aGUgY2xhc3MuXHJcbiAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBldmVudCBUaGUga2V5IGV2ZW50LlxyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgb25LZXlQcmVzc18oZXZlbnQpIHtcclxuICAgIGlmIChldmVudC53aGljaCA9PT0gS2V5cy5FTlRFUikge1xyXG4gICAgICBkb2N1bWVudC5ib2R5LnRvZ2dsZUNsYXNzKCdiYXNlbGluZScpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9qcy9wbHVnaW5zL2dyaWQuanMiLCJjb25zdCBIQVNIID0gJyNzbGlkZSc7XHJcbmNvbnN0IHNsaWRlUmVnZXggPSAvI3NsaWRlPShcXGQrKS87XHJcblxyXG4vKipcclxuICogU3RhdGljIGNsYXNzIHdpdGggbWV0aG9kcyB0byBtYW5pcHVsYXRlIGFuZCBleHRyYWN0IGluZm8gZnJvbSB0aGUgaGFzaCBvZlxyXG4gKiB0aGUgVVJMLlxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSGFzaCB7XHJcbiAgLyoqXHJcbiAgICogTGlzdGVucyB0byB0aGUgc2xpZGUgY2hhbmdlIGV2ZW50IGFuZCB0aGUgaGFzaCBjaGFuZ2UgZXZlbnRzLlxyXG4gICAqIEBwYXJhbSB3c0luc3RhbmNlXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Iod3NJbnN0YW5jZSkge1xyXG4gICAgdGhpcy53c18gPSB3c0luc3RhbmNlO1xyXG5cclxuICAgIHdzSW5zdGFuY2UuZWwuYWRkRXZlbnRMaXN0ZW5lcignd3M6c2xpZGUtY2hhbmdlJywgSGFzaC5vblNsaWRlQ2hhbmdlXyk7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignaGFzaGNoYW5nZScsIHRoaXMub25IYXNoQ2hhbmdlXy5iaW5kKHRoaXMpLCBmYWxzZSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBoYXNoY2hhbmdlIGV2ZW50IGhhbmRsZXIsIG1ha2VzIHRoZSBXZWJTbGlkZSBpbnN0YW5jZSBuYXZpZ2F0ZSB0byB0aGVcclxuICAgKiBuZWVkZWQgc2xpZGUuXHJcbiAgICovXHJcbiAgb25IYXNoQ2hhbmdlXygpIHtcclxuICAgIGNvbnN0IG5ld1NsaWRlSW5kZXggPSBIYXNoLmdldFNsaWRlTnVtYmVyKCk7XHJcblxyXG4gICAgaWYgKG5ld1NsaWRlSW5kZXggIT09IG51bGwpIHtcclxuICAgICAgdGhpcy53c18uZ29Ub1NsaWRlKG5ld1NsaWRlSW5kZXgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIG9uU2xpZGVDaGFuZ2VfKGV2ZW50KSB7XHJcbiAgICBIYXNoLnNldFNsaWRlTnVtYmVyKGV2ZW50LmRldGFpbC5jdXJyZW50U2xpZGUpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0cyB0aGUgc2xpZGUgbnVtYmVyIGZyb20gdGhlIGhhc2ggYnkgYSByZWdleCBtYXRjaGluZyBgI3NsaWRlPWAgYW5kIGdldHNcclxuICAgKiB0aGUgbnVtYmVyIGFmdGVyIGl0LiBJZiB0aGUgbnVtYmVyIGlzIGludmFsaWQgb3IgbGVzcyB0aGFuIDAsIGl0IHdpbGxcclxuICAgKiByZXR1cm4gbnVsbCBhcyBhbiBpbnZhbGlkIHZhbHVlLlxyXG4gICAqIEByZXR1cm4gez9udW1iZXJ9XHJcbiAgICovXHJcbiAgc3RhdGljIGdldFNsaWRlTnVtYmVyKCkge1xyXG4gICAgbGV0IHJlc3VsdHMgPSBkb2N1bWVudC5sb2NhdGlvbi5oYXNoLm1hdGNoKHNsaWRlUmVnZXgpO1xyXG4gICAgbGV0IHNsaWRlID0gMDtcclxuXHJcbiAgICBpZiAoQXJyYXkuaXNBcnJheShyZXN1bHRzKSkge1xyXG4gICAgICBzbGlkZSA9IHBhcnNlSW50KHJlc3VsdHNbMV0sIDEwKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodHlwZW9mIHNsaWRlICE9PSAnbnVtYmVyJyB8fCBzbGlkZSA8IDAgfHwgIUFycmF5LmlzQXJyYXkocmVzdWx0cykpIHtcclxuICAgICAgc2xpZGUgPSBudWxsO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgc2xpZGUtLTsgLy8gQ29udmVydCB0byAwIGluZGV4XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHNsaWRlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSXQgd2lsbCB1cGRhdGUgdGhlIGhhc2ggKGlmIGl0J3MgZGlmZmVyZW50KSBzbyBpdCByZWZsZWN0cyB0aGUgc2xpZGVcclxuICAgKiBudW1iZXIgYmVpbmcgdmlzaWJsZS5cclxuICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgb2YgdGhlIHNsaWRlIHdlJ3JlIHRyYW5zaXRpb25pbmcgdG8uXHJcbiAgICovXHJcbiAgc3RhdGljIHNldFNsaWRlTnVtYmVyKG51bWJlcikge1xyXG4gICAgaWYgKEhhc2guZ2V0U2xpZGVOdW1iZXIoKSAhPT0gKG51bWJlciAtIDEpKSB7XHJcbiAgICAgIGhpc3RvcnkucHVzaFN0YXRlKHtcclxuICAgICAgICBzbGlkZUk6IG51bWJlciAtIDFcclxuICAgICAgfSwgYFNsaWRlICR7bnVtYmVyfWAsIGAke0hBU0h9PSR7bnVtYmVyfWApO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9qcy9wbHVnaW5zL2hhc2guanMiLCJpbXBvcnQgS2V5cyBmcm9tICcuLi91dGlscy9rZXlzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEtleWJvYXJkIHtcclxuICAvKipcclxuICAgKiBLZXlib2FyZCBpbnRlcmFjdGlvbiBwbHVnaW4uXHJcbiAgICogQHBhcmFtIHtXZWJTbGlkZXN9IHdzSW5zdGFuY2UgVGhlIFdlYlNsaWRlcyBpbnN0YW5jZVxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHdzSW5zdGFuY2UpIHtcclxuICAgIC8qKlxyXG4gICAgICogQHR5cGUge1dlYlNsaWRlc31cclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIHRoaXMud3NfID0gd3NJbnN0YW5jZTtcclxuXHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5vbktleVByZXNzXy5iaW5kKHRoaXMpLCBmYWxzZSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZWFjdHMgdG8gdGhlIGtleWRvd24gZXZlbnQuIEl0IHJlYWN0cyB0byB0aGUgYXJyb3dzIGFuZCBzcGFjZSBrZXlcclxuICAgKiBkZXBlbmRpbmcgb24gdGhlIGxheW91dCBvZiB0aGUgcGFnZS5cclxuICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50IFRoZSBrZXkgZXZlbnQuXHJcbiAgICogQHByaXZhdGVcclxuICAgKi9cclxuICBvbktleVByZXNzXyhldmVudCkge1xyXG4gICAgbGV0IG1ldGhvZDtcclxuICAgIGxldCBhcmd1bWVudDtcclxuXHJcbiAgICAvLyBDaGVjayBpZiB0aGVyZSdzIGEgZm9jdXNlZCBlbGVtZW50IHRoYXQgbWlnaHQgdXNlIHRoZSBrZXlib2FyZC5cclxuICAgIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50KSB7XHJcbiAgICAgIGNvbnN0IGlzQ29udGVudEVkaXRhYmxlID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudFxyXG4gICAgICAgICAgICAuY29udGVudEVkaXRhYmxlICE9PSAnaW5oZXJpdCc7XHJcbiAgICAgIGNvbnN0IGlzSW5wdXQgPSBbJ0lOUFVUJywgJ1NFTEVDVCcsICdPUFRJT04nLCAnVEVYVEFSRUEnXVxyXG4gICAgICAgICAgICAuaW5kZXhPZihkb2N1bWVudC5hY3RpdmVFbGVtZW50LnRhZ05hbWUpID4gLTE7XHJcblxyXG4gICAgICBpZiAoaXNJbnB1dCB8fCBpc0NvbnRlbnRFZGl0YWJsZSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN3aXRjaCAoZXZlbnQud2hpY2gpIHtcclxuICAgICAgY2FzZSBLZXlzLkFWX1BBR0U6XHJcbiAgICAgIGNhc2UgS2V5cy5TUEFDRTpcclxuICAgICAgICBtZXRob2QgPSB0aGlzLndzXy5nb05leHQ7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgS2V5cy5SRV9QQUdFOlxyXG4gICAgICAgIG1ldGhvZCA9IHRoaXMud3NfLmdvUHJldjtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBLZXlzLkhPTUU6XHJcbiAgICAgICAgbWV0aG9kID0gdGhpcy53c18uZ29Ub1NsaWRlO1xyXG4gICAgICAgIGFyZ3VtZW50ID0gMDtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBLZXlzLkVORDpcclxuICAgICAgICBtZXRob2QgPSB0aGlzLndzXy5nb1RvU2xpZGU7XHJcbiAgICAgICAgYXJndW1lbnQgPSB0aGlzLndzXy5tYXhTbGlkZV8gLSAxO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIEtleXMuRE9XTjpcclxuICAgICAgICBtZXRob2QgPSB0aGlzLndzXy5pc1ZlcnRpY2FsID8gdGhpcy53c18uZ29OZXh0IDogbnVsbDtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBLZXlzLlVQOlxyXG4gICAgICAgIG1ldGhvZCA9IHRoaXMud3NfLmlzVmVydGljYWwgPyB0aGlzLndzXy5nb1ByZXYgOiBudWxsO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIEtleXMuTEVGVDpcclxuICAgICAgICBtZXRob2QgPSAhdGhpcy53c18uaXNWZXJ0aWNhbCA/IHRoaXMud3NfLmdvUHJldiA6IG51bGw7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgS2V5cy5SSUdIVDpcclxuICAgICAgICBtZXRob2QgPSAhdGhpcy53c18uaXNWZXJ0aWNhbCA/IHRoaXMud3NfLmdvTmV4dCA6IG51bGw7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG1ldGhvZCkge1xyXG4gICAgICBtZXRob2QuY2FsbCh0aGlzLndzXywgYXJndW1lbnQpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9qcy9wbHVnaW5zL2tleWJvYXJkLmpzIiwiaW1wb3J0IERPTSBmcm9tICcuLi91dGlscy9kb20nO1xyXG5cclxuY29uc3QgRUxFTUVOVF9JRCA9IHtcclxuICBOQVY6ICduYXZpZ2F0aW9uJyxcclxuICBORVhUOiAnbmV4dCcsXHJcbiAgUFJFVjogJ3ByZXZpb3VzJyxcclxuICBDT1VOVEVSOiAnY291bnRlcidcclxufTtcclxuXHJcbmNvbnN0IExBQkVMUyA9IHtcclxuICBWRVJUSUNBTDoge1xyXG4gICAgTkVYVDogJ+KGkycsXHJcbiAgICBQUkVWOiAn4oaRJ1xyXG4gIH0sXHJcbiAgSE9SSVpPTlRBTDoge1xyXG4gICAgTkVYVDogJ+KGkicsXHJcbiAgICBQUkVWOiAn4oaQJ1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5hdmlnYXRpb24ge1xyXG4gIC8qKlxyXG4gICAqIFRoZSBOYXZpZ2F0aW9uIGNvbnN0cnVjdG9yLiBJdCdsbCBjcmVhdGUgYWxsIHRoZSBub2RlcyBuZWVkZWQgZm9yIHRoZVxyXG4gICAqIG5hdmlnYXRpb24gc3VjaCBhcyB0aGUgYXJyb3dzIGFuZCB0aGUgY291bnRlci5cclxuICAgKiBAcGFyYW0ge1dlYlNsaWRlc30gd3NJbnN0YW5jZSBUaGUgV2ViU2xpZGVzIGluc3RhbmNlXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Iod3NJbnN0YW5jZSkge1xyXG4gICAgY29uc3QgYXJyb3dMYWJlbHMgPSB3c0luc3RhbmNlLmlzVmVydGljYWwgP1xyXG4gICAgICAgIExBQkVMUy5WRVJUSUNBTCA6IExBQkVMUy5IT1JJWk9OVEFMO1xyXG4gICAgLyoqXHJcbiAgICAgKiBOYXZpZ2F0aW9uIGVsZW1lbnQuXHJcbiAgICAgKiBAdHlwZSB7RWxlbWVudH1cclxuICAgICAqL1xyXG4gICAgdGhpcy5lbCA9IERPTS5jcmVhdGVOb2RlKCdkaXYnLCAnbmF2aWdhdGlvbicpO1xyXG4gICAgLyoqXHJcbiAgICAgKiBOZXh0IGJ1dHRvbi5cclxuICAgICAqIEB0eXBlIHtFbGVtZW50fVxyXG4gICAgICovXHJcbiAgICB0aGlzLm5leHQgPSBOYXZpZ2F0aW9uLmNyZWF0ZUFycm93KEVMRU1FTlRfSUQuTkVYVCwgYXJyb3dMYWJlbHMuTkVYVCk7XHJcbiAgICAvKipcclxuICAgICAqIFByZXYgYnV0dG9uLlxyXG4gICAgICogQHR5cGUge0VsZW1lbnR9XHJcbiAgICAgKi9cclxuICAgIHRoaXMucHJldiA9IE5hdmlnYXRpb24uY3JlYXRlQXJyb3coRUxFTUVOVF9JRC5QUkVWLCBhcnJvd0xhYmVscy5QUkVWKTtcclxuICAgIC8qKlxyXG4gICAgICogQ291bnRlciBFbGVtZW50LlxyXG4gICAgICogQHR5cGUge0VsZW1lbnR9XHJcbiAgICAgKi9cclxuICAgIHRoaXMuY291bnRlciA9IERPTS5jcmVhdGVOb2RlKCdzcGFuJywgRUxFTUVOVF9JRC5DT1VOVEVSKTtcclxuICAgIC8qKlxyXG4gICAgICogQHR5cGUge1dlYlNsaWRlc31cclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIHRoaXMud3NfID0gd3NJbnN0YW5jZTtcclxuXHJcbiAgICB0aGlzLmVsLmFwcGVuZENoaWxkKHRoaXMubmV4dCk7XHJcbiAgICB0aGlzLmVsLmFwcGVuZENoaWxkKHRoaXMucHJldik7XHJcbiAgICB0aGlzLmVsLmFwcGVuZENoaWxkKHRoaXMuY291bnRlcik7XHJcblxyXG4gICAgdGhpcy53c18uZWwuYXBwZW5kQ2hpbGQodGhpcy5lbCk7XHJcbiAgICB0aGlzLmJpbmRFdmVudHNfKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBCaW5kIGFsbCBldmVudHMgZm9yIHRoZSBuYXZpZ2F0aW9uLlxyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgYmluZEV2ZW50c18oKSB7XHJcbiAgICB0aGlzLndzXy5lbC5hZGRFdmVudExpc3RlbmVyKFxyXG4gICAgICAnd3M6c2xpZGUtY2hhbmdlJywgdGhpcy5vblNsaWRlQ2hhbmdlZF8uYmluZCh0aGlzKSk7XHJcbiAgICB0aGlzLm5leHQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uQnV0dG9uQ2xpY2tlZF8uYmluZCh0aGlzKSk7XHJcbiAgICB0aGlzLnByZXYuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uQnV0dG9uQ2xpY2tlZF8uYmluZCh0aGlzKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBVcGRhdGVzIHRoZSBjb3VudGVyIGluc2lkZSB0aGUgbmF2aWdhdGlvbi5cclxuICAgKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IGN1cnJlbnQgQ3VycmVudCBzbGlkZSBudW1iZXIuXHJcbiAgICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBtYXggTWF4IHNsaWRlIG51bWJlci5cclxuICAgKi9cclxuICB1cGRhdGVDb3VudGVyKGN1cnJlbnQsIG1heCkge1xyXG4gICAgdGhpcy5jb3VudGVyLnRleHRDb250ZW50ID0gYCR7Y3VycmVudH0gLyAke21heH1gO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ3JlYXRlcyBhbiBhcnJvdyB0byBuYXZpZ2F0ZS5cclxuICAgKiBAcGFyYW0geyFTdHJpbmd9IGlkIERlc2lyZWQgSUQgZm9yIHRoZSBhcnJvdy5cclxuICAgKiBAcGFyYW0geyFTdHJpbmd9IHRleHQgRGVzaXJlZCB0ZXh0IGZvciB0aGUgYXJyb3cuXHJcbiAgICogQHJldHVybiB7RWxlbWVudH0gVGhlIGFycm93IGVsZW1lbnQuXHJcbiAgICovXHJcbiAgc3RhdGljIGNyZWF0ZUFycm93KGlkLCB0ZXh0KSB7XHJcbiAgICBjb25zdCBhcnJvdyA9IERPTS5jcmVhdGVOb2RlKCdhJywgaWQsIHRleHQpO1xyXG4gICAgYXJyb3cuaHJlZiA9ICcjJztcclxuICAgIGFycm93LnRpdGxlID0gJ0Fycm93IEtleXMnO1xyXG5cclxuICAgIHJldHVybiBhcnJvdztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNsaWRlIENoYW5nZSBldmVudCBoYW5kbGVyLiBXaWxsIHVwZGF0ZSB0aGUgdGV4dCBvbiB0aGUgbmF2aWdhdGlvbi5cclxuICAgKiBAcGFyYW0ge0N1c3RvbUV2ZW50fSBldmVudFxyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgb25TbGlkZUNoYW5nZWRfKGV2ZW50KSB7XHJcbiAgICB0aGlzLnVwZGF0ZUNvdW50ZXIoZXZlbnQuZGV0YWlsLmN1cnJlbnRTbGlkZSwgZXZlbnQuZGV0YWlsLnNsaWRlcyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBIYW5kbGVzIGNsaWNrcyBvbiB0aGUgbmV4dC9wcmV2IGJ1dHRvbnMuXHJcbiAgICogQHBhcmFtIHtNb3VzZUV2ZW50fSBldmVudFxyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgb25CdXR0b25DbGlja2VkXyhldmVudCkge1xyXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIGlmIChldmVudC50YXJnZXQgPT09IHRoaXMubmV4dCkge1xyXG4gICAgICB0aGlzLndzXy5nb05leHQoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMud3NfLmdvUHJldigpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9qcy9wbHVnaW5zL25hdmlnYXRpb24uanMiLCJpbXBvcnQgQ2xpY2tOYXYgZnJvbSAnLi9jbGljay1uYXYnO1xyXG5pbXBvcnQgR3JpZCBmcm9tICcuL2dyaWQnO1xyXG5pbXBvcnQgSGFzaCBmcm9tICcuL2hhc2gnO1xyXG5pbXBvcnQgS2V5Ym9hcmQgZnJvbSAnLi9rZXlib2FyZCc7XHJcbmltcG9ydCBOYXZpZ2F0aW9uIGZyb20gJy4vbmF2aWdhdGlvbic7XHJcbmltcG9ydCBTY3JvbGwgZnJvbSAnLi9zY3JvbGwnO1xyXG5pbXBvcnQgVG91Y2ggZnJvbSAnLi90b3VjaCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgQ2xpY2tOYXYsXHJcbiAgR3JpZCxcclxuICBIYXNoLFxyXG4gIEtleWJvYXJkLFxyXG4gIE5hdmlnYXRpb24sXHJcbiAgU2Nyb2xsLFxyXG4gIFRvdWNoXHJcbn07XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2pzL3BsdWdpbnMvcGx1Z2lucy5qcyIsImltcG9ydCBNb2JpbGVEZXRlY3RvciBmcm9tICcuLi91dGlscy9tb2JpbGUtZGV0ZWN0b3InO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2Nyb2xsIHtcclxuICAvKipcclxuICAgKiBTY3JvbGwgaGFuZGxlciBmb3IgdGhlIFdlYlNsaWRlcy5cclxuICAgKiBAcGFyYW0ge1dlYlNsaWRlc30gd3NJbnN0YW5jZSBUaGUgV2ViU2xpZGVzIGluc3RhbmNlXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Iod3NJbnN0YW5jZSkge1xyXG4gICAgLyoqXHJcbiAgICAgKiBAdHlwZSB7V2ViU2xpZGVzfVxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xyXG4gICAgdGhpcy53c18gPSB3c0luc3RhbmNlO1xyXG4gICAgLyoqXHJcbiAgICAgKiBXaGVyZSB0aGUgc2Nyb2xsIGlzIGdvaW5nIHRvIGhhcHBlbi4gVGhlIFdlYlNsaWRlcyBlbGVtZW50LlxyXG4gICAgICogQHR5cGUge0VsZW1lbnR9XHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXHJcbiAgICB0aGlzLnNjcm9sbENvbnRhaW5lcl8gPSB3c0luc3RhbmNlLmVsO1xyXG4gICAgLyoqXHJcbiAgICAgKiBXaGV0aGVyIG1vdmVtZW50IGlzIGhhcHBlbmluZyB1cCBvciBkb3duLlxyXG4gICAgICogQHR5cGUge2Jvb2xlYW59XHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXHJcbiAgICB0aGlzLmlzR29pbmdVcF8gPSBmYWxzZTtcclxuICAgIC8qKlxyXG4gICAgICogV2hldGhlciBtb3ZlbWVudCBpcyBoYXBwZW5pbmcgbGVmdCBvciByaWdodC5cclxuICAgICAqIEB0eXBlIHtib29sZWFufVxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xyXG4gICAgdGhpcy5pc0dvaW5nTGVmdF8gPSBmYWxzZTtcclxuICAgIC8qKlxyXG4gICAgICogVGltZW91dCBpZCBob2xkZXIuXHJcbiAgICAgKiBAdHlwZSB7P251bWJlcn1cclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIHRoaXMudGltZW91dF8gPSBudWxsO1xyXG5cclxuICAgIGlmICghTW9iaWxlRGV0ZWN0b3IuaXNBbnkoKSkge1xyXG4gICAgICAgIHRoaXMuc2Nyb2xsQ29udGFpbmVyXy5hZGRFdmVudExpc3RlbmVyKFxyXG4gICAgICAgICAgICAnd2hlZWwnLCB0aGlzLm9uTW91c2VXaGVlbF8uYmluZCh0aGlzKSk7XHJcblxyXG4gICAgICAgIGlmICghd3NJbnN0YW5jZS5pc1ZlcnRpY2FsKSB7XHJcbiAgICAgICAgICB3c0luc3RhbmNlLmVsLmFkZEV2ZW50TGlzdGVuZXIoXHJcbiAgICAgICAgICAgICAgJ3dzOnNsaWRlLWNoYW5nZScsIHRoaXMub25TbGlkZUNoYW5nZV8uYmluZCh0aGlzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogV2hlbiB0aGUgc2xpZGVzIGNoYW5nZSwgc2V0IGFuIGlubmVyIHRpbWVvdXQgdG8gYXZvaWQgcHJlbWF0dXJlbHlcclxuICAgKiBjaGFuZ2luZyB0byB0aGUgbmV4dCBzbGlkZSBhZ2Fpbi5cclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIG9uU2xpZGVDaGFuZ2VfKCkge1xyXG4gICAgdGhpcy50aW1lb3V0XyA9IHNldFRpbWVvdXQoXHJcbiAgICAgICAgKCkgPT4geyB0aGlzLnRpbWVvdXRfID0gbnVsbDsgfSxcclxuICAgICAgICB0aGlzLndzXy5vcHRpb25zLnNjcm9sbFdhaXQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVhY3RzIHRvIHRoZSB3aGVlbCBldmVudC4gRGV0ZWN0cyB3aGV0aGVyIGlzIGdvaW5nIHVwIG9yIGRvd24gYW5kIGRlY2lkZXNcclxuICAgKiBpZiBpdCBuZWVkcyB0byBtb3ZlIHRoZSBzbGlkZSBiYXNlZCBvbiB0aGUgYW1vdW50IG9mIGRlbHRhLlxyXG4gICAqIEBwYXJhbSB7V2hlZWxFdmVudH0gZXZlbnQgVGhlIFdoZWVsIEV2ZW50LlxyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgb25Nb3VzZVdoZWVsXyhldmVudCkge1xyXG4gICAgaWYgKHRoaXMud3NfLmlzTW92aW5nIHx8IHRoaXMudGltZW91dF8pIHtcclxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgZGVsdGFZOiB3aGVlbERlbHRhWSwgZGVsdGFYOiB3aGVlbERlbHRhWCB9ID0gZXZlbnQ7XHJcbiAgICBjb25zdCBpc1ZlcnRpY2FsID0gdGhpcy53c18uaXNWZXJ0aWNhbDtcclxuICAgIGNvbnN0IGlzSG9yaXpvbnRhbE1vdmVtZW50ID0gTWF0aC5hYnMod2hlZWxEZWx0YVgpID4gTWF0aC5hYnMod2hlZWxEZWx0YVkpO1xyXG4gICAgdGhpcy5pc0dvaW5nVXBfID0gd2hlZWxEZWx0YVkgPCAwO1xyXG4gICAgdGhpcy5pc0dvaW5nTGVmdF8gPSB3aGVlbERlbHRhWCA8IDA7XHJcblxyXG5cclxuICAgIC8vIElmIHdlJ3JlIG1haW5seSBtb3ZpbmcgaG9yaXpvbnRhbGx5LCBwcmV2ZW50IGRlZmF1bHRcclxuICAgIGlmIChpc0hvcml6b250YWxNb3ZlbWVudCkge1xyXG4gICAgICBpZiAoIWlzVmVydGljYWwpIHtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIElmIHdlJ3JlIG1vdmluZyBob3Jpem9udGFsbHkgYnV0IHRoaXMgaXMgdmVydGljYWwsIHJldHVybiB0byBhdm9pZFxyXG4gICAgICAgIC8vIHVud2FudGVkIG5hdmlnYXRpb24uXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKE1hdGguYWJzKHdoZWVsRGVsdGFZKSA+PSB0aGlzLndzXy5vcHRpb25zLm1pbldoZWVsRGVsdGEgfHxcclxuICAgICAgICBNYXRoLmFicyh3aGVlbERlbHRhWCkgPj0gdGhpcy53c18ub3B0aW9ucy5taW5XaGVlbERlbHRhKSB7XHJcbiAgICAgIGlmICgoaXNIb3Jpem9udGFsTW92ZW1lbnQgJiYgdGhpcy5pc0dvaW5nTGVmdF8pIHx8XHJcbiAgICAgICAgICAoIWlzSG9yaXpvbnRhbE1vdmVtZW50ICYmIHRoaXMuaXNHb2luZ1VwXykpIHtcclxuICAgICAgICB0aGlzLndzXy5nb1ByZXYoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLndzXy5nb05leHQoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIH1cclxuICB9XHJcbn07XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2pzL3BsdWdpbnMvc2Nyb2xsLmpzIiwiaW1wb3J0IE1vYmlsZURldGVjdG9yIGZyb20gJy4uL3V0aWxzL21vYmlsZS1kZXRlY3Rvcic7XHJcblxyXG5jb25zdCBFVkVOVFMgPSB7XHJcbiAgdG91Y2g6IHtcclxuICAgIFNUQVJUOiAndG91Y2hzdGFydCcsXHJcbiAgICBNT1ZFOiAndG91Y2htb3ZlJyxcclxuICAgIEVORDogJ3RvdWNoZW5kJ1xyXG4gIH0sXHJcbiAgcG9pbnRlcjoge1xyXG4gICAgU1RBUlQ6ICdwb2ludGVyZG93bicsXHJcbiAgICBNT1ZFOiAncG9pbnRlcm1vdmUnLFxyXG4gICAgRU5EOiAncG9pbnRlcnVwJ1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRvdWNoIHtcclxuICAvKipcclxuICAgKiBAcGFyYW0ge1dlYlNsaWRlc30gd3NJbnN0YW5jZSBUaGUgV2ViU2xpZGVzIGluc3RhbmNlXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3Iod3NJbnN0YW5jZSkge1xyXG4gICAgLyoqXHJcbiAgICAgKiBAdHlwZSB7V2ViU2xpZGVzfVxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xyXG4gICAgdGhpcy53c18gPSB3c0luc3RhbmNlO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU3RhcnQgcG9zaXRpb24gZm9yIHRoZSBYIGNvb3JkLlxyXG4gICAgICogQHR5cGUge251bWJlcn1cclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIHRoaXMuc3RhcnRYXyA9IDA7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTdGFydCBwb3NpdGlvbiBmb3IgdGhlIFkgY29vcmQuXHJcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xyXG4gICAgdGhpcy5zdGFydFlfID0gMDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFN0YXJ0IHBvc2l0aW9uIGZvciB0aGUgWCBjb29yZC5cclxuICAgICAqIEB0eXBlIHtudW1iZXJ9XHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXHJcbiAgICB0aGlzLmVuZFhfID0gMDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFN0YXJ0IHBvc2l0aW9uIGZvciB0aGUgWSBjb29yZC5cclxuICAgICAqIEB0eXBlIHtudW1iZXJ9XHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXHJcbiAgICB0aGlzLmVuZFlfID0gMDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFdoZXRoZXIgaXMgZW5hYmxlZCBvciBub3QuIE9ubHkgZW5hYmxlZCBmb3IgdG91Y2ggZGV2aWNlcy5cclxuICAgICAqIEB0eXBlIHtib29sZWFufVxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xyXG4gICAgdGhpcy5pc0VuYWJsZWQgPSBmYWxzZTtcclxuXHJcbiAgICBsZXQgZXZlbnRzO1xyXG5cclxuICAgIGlmIChNb2JpbGVEZXRlY3Rvci5pc0FueSgpKSB7XHJcbiAgICAgIC8vIExpa2VseSBJRVxyXG4gICAgICBpZiAod2luZG93LlBvaW50ZXJFdmVudCAmJiAoXHJcbiAgICAgICAgICBNb2JpbGVEZXRlY3Rvci5pc1dpbmRvd3MoKSB8fCBNb2JpbGVEZXRlY3Rvci5pc1dpbmRvd3NQaG9uZSgpKSkge1xyXG4gICAgICAgIGV2ZW50cyA9IEVWRU5UUy5wb2ludGVyO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGV2ZW50cyA9IEVWRU5UUy50b3VjaDtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5pc0VuYWJsZWQgPSB0cnVlO1xyXG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50cy5TVEFSVCwgdGhpcy5vblN0YXJ0Xy5iaW5kKHRoaXMpLCBmYWxzZSk7XHJcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRzLk1PVkUsIHRoaXMub25Nb3ZlXy5iaW5kKHRoaXMpLCBmYWxzZSk7XHJcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRzLk1PVkUsIHRoaXMub25Nb3ZlXy5iaW5kKHRoaXMpLCBmYWxzZSk7XHJcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRzLkVORCwgdGhpcy5vblN0b3BfLmJpbmQodGhpcyksIGZhbHNlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFN0YXJ0IHRvdWNoIGhhbmRsZXIuIFNhdmVzIHN0YXJ0aW5nIHBvaW50cy5cclxuICAgKiBAcGFyYW0gZXZlbnRcclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIG9uU3RhcnRfKGV2ZW50KSB7XHJcbiAgICBjb25zdCBpbmZvID0gVG91Y2gubm9ybWFsaXplRXZlbnRJbmZvKGV2ZW50KTtcclxuXHJcbiAgICB0aGlzLnN0YXJ0WF8gPSBpbmZvLng7XHJcbiAgICB0aGlzLnN0YXJ0WV8gPSBpbmZvLnk7XHJcbiAgICB0aGlzLmVuZFhfID0gaW5mby54O1xyXG4gICAgdGhpcy5lbmRZXyA9IGluZm8ueTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE1vdmUgdG91Y2ggaGFuZGxlci4gU2F2ZXMgZW5kIHBvaW50cy5cclxuICAgKiBAcGFyYW0gZXZlbnRcclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIG9uTW92ZV8oZXZlbnQpIHtcclxuICAgIGNvbnN0IGluZm8gPSBUb3VjaC5ub3JtYWxpemVFdmVudEluZm8oZXZlbnQpO1xyXG5cclxuICAgIHRoaXMuZW5kWF8gPSBpbmZvLng7XHJcbiAgICB0aGlzLmVuZFlfID0gaW5mby55O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU3RvcCB0b3VjaCBoYW5kbGVyLiBDaGVja3MgaWYgaXQgbmVlZHMgdG8gbWFrZSBhbnkgYWN0aW9ucy5cclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIG9uU3RvcF8oKSB7XHJcbiAgICBjb25zdCBkaWZmWCA9IHRoaXMuc3RhcnRYXyAtIHRoaXMuZW5kWF87XHJcbiAgICBjb25zdCBkaWZmWSA9IHRoaXMuc3RhcnRZXyAtIHRoaXMuZW5kWV87XHJcblxyXG4gICAgLy8gSXQncyBhbiBob3Jpem9udGFsIGRyYWdcclxuICAgIGlmIChNYXRoLmFicyhkaWZmWCkgPiBNYXRoLmFicyhkaWZmWSkpIHtcclxuICAgICAgaWYgKGRpZmZYIDwgLXRoaXMud3NfLm9wdGlvbnMuc2xpZGVPZmZzZXQpIHtcclxuICAgICAgICB0aGlzLndzXy5nb1ByZXYoKTtcclxuICAgICAgfSBlbHNlIGlmKGRpZmZYID4gdGhpcy53c18ub3B0aW9ucy5zbGlkZU9mZnNldCkge1xyXG4gICAgICAgIHRoaXMud3NfLmdvTmV4dCgpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBOb3JtYWxpemVzIGFuIGV2ZW50IHRvIGRlYWwgd2l0aCBkaWZmZXJlbmNlcyBiZXR3ZWVuIFBvaW50ZXJFdmVudCBhbmRcclxuICAgKiBUb3VjaEV2ZW50LlxyXG4gICAqIEBwYXJhbSBldmVudFxyXG4gICAqIEByZXR1cm4geyp9XHJcbiAgICovXHJcbiAgc3RhdGljIG5vcm1hbGl6ZUV2ZW50SW5mbyhldmVudCkge1xyXG4gICAgbGV0IHg7XHJcbiAgICBsZXQgeTtcclxuICAgIGxldCB0b3VjaEV2ZW50ID0geyBwYWdlWCA6IDAsIHBhZ2VZIDogMH07XHJcblxyXG4gICAgaWYgKHR5cGVvZiBldmVudC5jaGFuZ2VkVG91Y2hlcyAhPT0gJ3VuZGVmaW5lZCcpe1xyXG4gICAgICB0b3VjaEV2ZW50ID0gZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF07XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICh0eXBlb2YgZXZlbnQub3JpZ2luYWxFdmVudCAhPT0gJ3VuZGVmaW5lZCcgJiZcclxuICAgICAgICB0eXBlb2YgZXZlbnQub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlcyAhPT0gJ3VuZGVmaW5lZCcpe1xyXG4gICAgICB0b3VjaEV2ZW50ID0gZXZlbnQub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXTtcclxuICAgIH1cclxuXHJcbiAgICB4ID0gZXZlbnQub2Zmc2V0WCB8fCBldmVudC5sYXllclggfHwgdG91Y2hFdmVudC5wYWdlWDtcclxuICAgIHkgPSBldmVudC5vZmZzZXRZIHx8IGV2ZW50LmxheWVyWSB8fCB0b3VjaEV2ZW50LnBhZ2VZO1xyXG5cclxuICAgIHJldHVybiB7IHgsIHkgfTtcclxuICB9XHJcbn07XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2pzL3BsdWdpbnMvdG91Y2guanMiLCJjb25zdCBOYXRpdmVDdXN0b21FdmVudCA9IHdpbmRvdy5DdXN0b21FdmVudDtcclxuXHJcbi8qKlxyXG4gKiBDaGVjayBmb3IgdGhlIHVzYWdlIG9mIG5hdGl2ZSBzdXBwb3J0IGZvciBDdXN0b21FdmVudHMgd2hpY2ggaXMgbGFja2luZ1xyXG4gKiBjb21wbGV0ZWx5IG9uIElFLlxyXG4gKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIGl0IGNhbiBiZSB1c2VkIG9yIG5vdC5cclxuICovXHJcbmZ1bmN0aW9uIGNhbkl1c2VOYXRpdmVDdXN0b20gKCkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBwID0gbmV3IE5hdGl2ZUN1c3RvbUV2ZW50KCd0JywgeyBkZXRhaWw6IHsgYTogJ2InIH0gfSk7XHJcbiAgICByZXR1cm4gICd0JyA9PT0gcC50eXBlICYmICdiJyA9PT0gcC5kZXRhaWwuYTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgfVxyXG4gIHJldHVybiBmYWxzZTtcclxufVxyXG5cclxuLyoqXHJcbiAqIExvdXN5IHBvbHlmaWxsIGZvciB0aGUgQ3VzdG9tIEV2ZW50IGNvbnN0cnVjdG9yIGZvciBJRS5cclxuICogQHBhcmFtIHshc3RyaW5nfSB0eXBlIFRoZSB0eXBlIG9mIHRoZSBldmVudC5cclxuICogQHBhcmFtIHs/T2JqZWN0fSBwYXJhbXMgQWRkaXRpb25hbCBpbmZvcm1hdGlvbiBmb3IgdGhlIGV2ZW50LlxyXG4gKiBAcmV0dXJuIHtFdmVudH1cclxuICogQGNvbnN0cnVjdG9yXHJcbiAqL1xyXG5jb25zdCBJRUN1c3RvbUV2ZW50ID0gZnVuY3Rpb24gQ3VzdG9tRXZlbnQodHlwZSwgcGFyYW1zKSB7XHJcbiAgY29uc3QgZSA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdDdXN0b21FdmVudCcpO1xyXG5cclxuICBpZiAocGFyYW1zKSB7XHJcbiAgICBlLmluaXRDdXN0b21FdmVudCh0eXBlLCBwYXJhbXMuYnViYmxlcywgcGFyYW1zLmNhbmNlbGFibGUsIHBhcmFtcy5kZXRhaWwpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBlLmluaXRDdXN0b21FdmVudCh0eXBlLCBmYWxzZSwgZmFsc2UsIHVuZGVmaW5lZCk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gZTtcclxufTtcclxuXHJcbmNvbnN0IFdTQ3VzdG9tRXZlbnQgPSBjYW5JdXNlTmF0aXZlQ3VzdG9tKCkgPyBOYXRpdmVDdXN0b21FdmVudCA6IElFQ3VzdG9tRXZlbnQ7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBXU0N1c3RvbUV2ZW50O1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9qcy91dGlscy9jdXN0b20tZXZlbnQuanMiLCIvKipcclxuICogU3dpbmcgZWFzaW5nIGZ1bmN0aW9uLlxyXG4gKiBAcGFyYW0ge251bWJlcn0gcCBUaGUgcGVyY2VudGFnZSBvZiB0aW1lIHRoYXQgaGFzIHBhc3NlZC5cclxuICogQHJldHVybiB7bnVtYmVyfVxyXG4gKi9cclxuZnVuY3Rpb24gc3dpbmcgKHApIHtcclxuICByZXR1cm4gMC41IC0gTWF0aC5jb3MocCAqIE1hdGguUEkpIC8gMjtcclxufVxyXG5cclxuLyoqXHJcbiAqIExpbmVhciBlYXNpbmcgZnVuY3Rpb24uXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBwIFRoZSBwZXJjZW50YWdlIG9mIHRpbWUgdGhhdCBoYXMgcGFzc2VkLlxyXG4gKiBAcmV0dXJuIHtudW1iZXJ9XHJcbiAqL1xyXG5mdW5jdGlvbiBsaW5lYXIocCkge1xyXG4gIHJldHVybiBwO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7IHN3aW5nLCBsaW5lYXIgfTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vanMvdXRpbHMvZWFzaW5nLmpzIiwiaW1wb3J0IEVhc2luZ3MgZnJvbSAnLi9lYXNpbmcnO1xyXG5cclxubGV0IFNDUk9MTEFCTEVfQ09OVEFJTkVSID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dlYnNsaWRlcycpO1xyXG5cclxuLyoqXHJcbiAqIFNtb290aGx5IHNjcm9sbHMgdG8gYSBnaXZlbiBZIHBvc2l0aW9uIHVzaW5nIEVhc2luZy5Td2luZy4gSXQnbGwgcnVuIGFcclxuICogY2FsbGJhY2sgdXBvbiBmaW5pc2hpbmcuXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSB5IE9mZnNldCBvZiB0aGUgcGFnZSB0byBzY3JvbGwgdG8uXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBkdXJhdGlvbiBEdXJhdGlvbiBvZiB0aGUgYW5pbWF0aW9uLiA1MDBtcyBieSBkZWZhdWx0LlxyXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYiBDYWxsYmFjayBmdW5jdGlvbiB0byBjYWxsIHVwb24gY29tcGxldGlvbi5cclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNjcm9sbFRvKHksIGR1cmF0aW9uID0gNTAwLCBjYiA9ICgpID0+IHt9KSB7XHJcbiAgY29uc3QgZGVsdGEgPSB5IC0gU0NST0xMQUJMRV9DT05UQUlORVIuc2Nyb2xsVG9wO1xyXG4gIGNvbnN0IHN0YXJ0TG9jYXRpb24gPSBTQ1JPTExBQkxFX0NPTlRBSU5FUi5zY3JvbGxUb3A7XHJcbiAgY29uc3QgaW5jcmVtZW50ID0gMTY7XHJcblxyXG4gIGlmICghZHVyYXRpb24pIHtcclxuICAgIFNDUk9MTEFCTEVfQ09OVEFJTkVSLnNjcm9sbFRvcCA9IHk7XHJcbiAgICBjYigpO1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgYW5pbWF0ZVNjcm9sbCA9IGVsYXBzZWRUaW1lID0+IHtcclxuICAgIGVsYXBzZWRUaW1lICs9IGluY3JlbWVudDtcclxuICAgIGNvbnN0IHBlcmNlbnQgPSBNYXRoLm1pbigxLCBlbGFwc2VkVGltZSAvIGR1cmF0aW9uKTtcclxuICAgIGNvbnN0IGVhc2luZ1AgPSBFYXNpbmdzLnN3aW5nKFxyXG4gICAgICBwZXJjZW50LFxyXG4gICAgICBlbGFwc2VkVGltZSAqIHBlcmNlbnQsXHJcbiAgICAgIHksXHJcbiAgICAgIGRlbHRhLFxyXG4gICAgICBkdXJhdGlvbik7XHJcblxyXG4gICAgU0NST0xMQUJMRV9DT05UQUlORVIuc2Nyb2xsVG9wID0gTWF0aC5mbG9vcihzdGFydExvY2F0aW9uICtcclxuICAgICAgICAoZWFzaW5nUCAqIGRlbHRhKSk7XHJcblxyXG4gICAgaWYgKGVsYXBzZWRUaW1lIDwgZHVyYXRpb24pIHtcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiBhbmltYXRlU2Nyb2xsKGVsYXBzZWRUaW1lKSwgaW5jcmVtZW50KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNiKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgYW5pbWF0ZVNjcm9sbCgwKTtcclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9qcy91dGlscy9zY3JvbGwtdG8uanMiLCJpbXBvcnQgV2ViU2xpZGVzIGZyb20gJy4vbW9kdWxlcy93ZWJzbGlkZXMnO1xyXG5yZXF1aXJlKCcuLi9zY3NzL2Z1bGwuc2NzcycpO1xyXG5cclxud2luZG93LldlYlNsaWRlcyA9IFdlYlNsaWRlcztcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vanMvZnVsbC5qcyJdLCJzb3VyY2VSb290IjoiIn0=